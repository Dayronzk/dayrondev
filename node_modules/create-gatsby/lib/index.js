var e=require("assert"),t=require("events"),i=require("readline"),r=require("child_process"),n=require("path"),s=require("fs"),o=require("os"),a=require("buffer"),l=require("stream"),c=require("util"),u=require("constants"),h=require("crypto"),d=require("tty"),p=require("http"),f=require("url"),m=require("https"),y=require("zlib");function g(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var w=g(e),b=g(t),v=g(i),E=g(r),S=g(n),I=g(s),O=g(o),x=g(a),T=g(l),C=g(c),R=g(u),A=g(h),k=g(d),P=g(p),N=g(f),L=g(m),j=g(y);function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e}).apply(this,arguments)}var D="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function _(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},i.exports),i.exports}var B=_(function(e){const t="Hyper"===process.env.TERM_PROGRAM,i="win32"===process.platform,r="linux"===process.platform,n={ballotDisabled:"‚òí",ballotOff:"‚òê",ballotOn:"‚òë",bullet:"‚Ä¢",bulletWhite:"‚ó¶",fullBlock:"‚ñà",heart:"‚ù§",identicalTo:"‚â°",line:"‚îÄ",mark:"‚Äª",middot:"¬∑",minus:"Ôºç",multiplication:"√ó",obelus:"√∑",pencilDownRight:"‚úé",pencilRight:"‚úè",pencilUpRight:"‚úê",percent:"%",pilcrow2:"‚ù°",pilcrow:"¬∂",plusMinus:"¬±",section:"¬ß",starsOff:"‚òÜ",starsOn:"‚òÖ",upDownArrow:"‚Üï"},s=Object.assign({},n,{check:"‚àö",cross:"√ó",ellipsisLarge:"...",ellipsis:"...",info:"i",question:"?",questionSmall:"?",pointer:">",pointerSmall:"¬ª",radioOff:"( )",radioOn:"(*)",warning:"‚Äº"}),o=Object.assign({},n,{ballotCross:"‚úò",check:"‚úî",cross:"‚úñ",ellipsisLarge:"‚ãØ",ellipsis:"‚Ä¶",info:"‚Ñπ",question:"?",questionFull:"Ôºü",questionSmall:"Ôπñ",pointer:r?"‚ñ∏":"‚ùØ",pointerSmall:r?"‚Ä£":"‚Ä∫",radioOff:"‚óØ",radioOn:"‚óâ",warning:"‚ö†"});e.exports=i&&!t?s:o,Reflect.defineProperty(e.exports,"common",{enumerable:!1,value:n}),Reflect.defineProperty(e.exports,"windows",{enumerable:!1,value:s}),Reflect.defineProperty(e.exports,"other",{enumerable:!1,value:o})});const M=/[\u001b\u009b][[\]#;?()]*(?:(?:(?:[^\W_]*;?[^\W_]*)\u0007)|(?:(?:[0-9]{1,4}(;[0-9]{0,4})*)?[~0-9=<>cf-nqrtyA-PRZ]))/g,F=()=>{const e={enabled:!0,visible:!0,styles:{},keys:{}};"FORCE_COLOR"in process.env&&(e.enabled="0"!==process.env.FORCE_COLOR);const t=(e,t,i)=>"function"==typeof e?e(t):e.wrap(t,i),i=(i,r)=>{if(""===i||null==i)return"";if(!1===e.enabled)return i;if(!1===e.visible)return"";let n=""+i,s=n.includes("\n"),o=r.length;for(o>0&&r.includes("unstyle")&&(r=[...new Set(["unstyle",...r])].reverse());o-- >0;)n=t(e.styles[r[o]],n,s);return n},r=(t,r,n)=>{e.styles[t]=(e=>{let t=e.open=`[${e.codes[0]}m`,i=e.close=`[${e.codes[1]}m`,r=e.regex=new RegExp(`\\u001b\\[${e.codes[1]}m`,"g");return e.wrap=(e,n)=>{e.includes(i)&&(e=e.replace(r,i+t));let s=t+e+i;return n?s.replace(/\r*\n/g,`${i}$&${t}`):s},e})({name:t,codes:r}),(e.keys[n]||(e.keys[n]=[])).push(t),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(i){e.alias(t,i)},get(){let r=e=>i(e,r.stack);return Reflect.setPrototypeOf(r,e),r.stack=this.stack?this.stack.concat(t):[t],r}})};return r("reset",[0,0],"modifier"),r("bold",[1,22],"modifier"),r("dim",[2,22],"modifier"),r("italic",[3,23],"modifier"),r("underline",[4,24],"modifier"),r("inverse",[7,27],"modifier"),r("hidden",[8,28],"modifier"),r("strikethrough",[9,29],"modifier"),r("black",[30,39],"color"),r("red",[31,39],"color"),r("green",[32,39],"color"),r("yellow",[33,39],"color"),r("blue",[34,39],"color"),r("magenta",[35,39],"color"),r("cyan",[36,39],"color"),r("white",[37,39],"color"),r("gray",[90,39],"color"),r("grey",[90,39],"color"),r("bgBlack",[40,49],"bg"),r("bgRed",[41,49],"bg"),r("bgGreen",[42,49],"bg"),r("bgYellow",[43,49],"bg"),r("bgBlue",[44,49],"bg"),r("bgMagenta",[45,49],"bg"),r("bgCyan",[46,49],"bg"),r("bgWhite",[47,49],"bg"),r("blackBright",[90,39],"bright"),r("redBright",[91,39],"bright"),r("greenBright",[92,39],"bright"),r("yellowBright",[93,39],"bright"),r("blueBright",[94,39],"bright"),r("magentaBright",[95,39],"bright"),r("cyanBright",[96,39],"bright"),r("whiteBright",[97,39],"bright"),r("bgBlackBright",[100,49],"bgBright"),r("bgRedBright",[101,49],"bgBright"),r("bgGreenBright",[102,49],"bgBright"),r("bgYellowBright",[103,49],"bgBright"),r("bgBlueBright",[104,49],"bgBright"),r("bgMagentaBright",[105,49],"bgBright"),r("bgCyanBright",[106,49],"bgBright"),r("bgWhiteBright",[107,49],"bgBright"),e.ansiRegex=M,e.hasColor=e.hasAnsi=t=>(e.ansiRegex.lastIndex=0,"string"==typeof t&&""!==t&&e.ansiRegex.test(t)),e.alias=(t,r)=>{let n="string"==typeof r?e[r]:r;if("function"!=typeof n)throw new TypeError("Expected alias to be the name of an existing color (string) or a function");n.stack||(Reflect.defineProperty(n,"name",{value:t}),e.styles[t]=n,n.stack=[t]),Reflect.defineProperty(e,t,{configurable:!0,enumerable:!0,set(i){e.alias(t,i)},get(){let t=e=>i(e,t.stack);return Reflect.setPrototypeOf(t,e),t.stack=this.stack?this.stack.concat(n.stack):n.stack,t}})},e.theme=t=>{if(null===(i=t)||"object"!=typeof i||Array.isArray(i))throw new TypeError("Expected theme to be an object");var i;for(let i of Object.keys(t))e.alias(i,t[i]);return e},e.alias("unstyle",t=>"string"==typeof t&&""!==t?(e.ansiRegex.lastIndex=0,t.replace(e.ansiRegex,"")):""),e.alias("noop",e=>e),e.none=e.clear=e.noop,e.stripColor=e.unstyle,e.symbols=B,e.define=r,e};var G=F();G.create=F;var U=_(function(e,t){const i=Object.prototype.toString;let r=!1,n=[];const s={yellow:"blue",cyan:"red",green:"magenta",black:"white",blue:"yellow",red:"cyan",magenta:"green",white:"black"};t.longest=(e,t)=>e.reduce((e,i)=>Math.max(e,t?i[t].length:i.length),0),t.hasColor=e=>!!e&&G.hasColor(e);const o=t.isObject=e=>null!==e&&"object"==typeof e&&!Array.isArray(e);t.nativeType=e=>i.call(e).slice(8,-1).toLowerCase().replace(/\s/g,""),t.isAsyncFn=e=>"asyncfunction"===t.nativeType(e),t.isPrimitive=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e,t.resolve=(e,t,...i)=>"function"==typeof t?t.call(e,...i):t,t.scrollDown=(e=[])=>[...e.slice(1),e[0]],t.scrollUp=(e=[])=>[e.pop(),...e],t.reorder=(e=[])=>{let t=e.slice();return t.sort((e,t)=>e.index>t.index?1:e.index<t.index?-1:0),t},t.swap=(e,t,i)=>{let r=e.length,n=i===r?0:i<0?r-1:i,s=e[t];e[t]=e[n],e[n]=s},t.width=(e,t=80)=>{let i=e&&e.columns?e.columns:t;return e&&"function"==typeof e.getWindowSize&&(i=e.getWindowSize()[0]),"win32"===process.platform?i-1:i},t.height=(e,t=20)=>{let i=e&&e.rows?e.rows:t;return e&&"function"==typeof e.getWindowSize&&(i=e.getWindowSize()[1]),i},t.wordWrap=(e,t={})=>{if(!e)return e;"number"==typeof t&&(t={width:t});let{indent:i="",newline:r="\n"+i,width:n=80}=t,s=(r+i).match(/[^\S\n]/g)||[];n-=s.length;let o=`.{1,${n}}([\\s\\u200B]+|$)|[^\\s\\u200B]+?([\\s\\u200B]+|$)`,a=e.trim(),l=new RegExp(o,"g"),c=a.match(l)||[];return c=c.map(e=>e.replace(/\n$/,"")),t.padEnd&&(c=c.map(e=>e.padEnd(n," "))),t.padStart&&(c=c.map(e=>e.padStart(n," "))),i+c.join(r)},t.unmute=e=>{let t=e.stack.find(e=>G.keys.color.includes(e));return t?G[t]:e.stack.find(e=>"bg"===e.slice(2))?G[t.slice(2)]:e=>e},t.pascal=e=>e?e[0].toUpperCase()+e.slice(1):"",t.inverse=e=>{if(!e||!e.stack)return e;let i=e.stack.find(e=>G.keys.color.includes(e));if(i){let r=G["bg"+t.pascal(i)];return r?r.black:e}let r=e.stack.find(e=>"bg"===e.slice(0,2));return r?G[r.slice(2).toLowerCase()]||e:G.none},t.complement=e=>{if(!e||!e.stack)return e;let i=e.stack.find(e=>G.keys.color.includes(e)),r=e.stack.find(e=>"bg"===e.slice(0,2));if(i&&!r)return G[s[i]||i];if(r){let i=r.slice(2).toLowerCase(),n=s[i];return n&&G["bg"+t.pascal(n)]||e}return G.none},t.meridiem=e=>{let t=e.getHours(),i=e.getMinutes(),r=t>=12?"pm":"am";return t%=12,(0===t?12:t)+":"+(i<10?"0"+i:i)+" "+r},t.set=(e={},i="",r)=>i.split(".").reduce((e,i,n,s)=>{let o=s.length-1>n?e[i]||{}:r;return!t.isObject(o)&&n<s.length-1&&(o={}),e[i]=o},e),t.get=(e={},t="",i)=>{let r=null==e[t]?t.split(".").reduce((e,t)=>e&&e[t],e):e[t];return null==r?i:r},t.mixin=(e,i)=>{if(!o(e))return i;if(!o(i))return e;for(let r of Object.keys(i)){let n=Object.getOwnPropertyDescriptor(i,r);if(n.hasOwnProperty("value"))if(e.hasOwnProperty(r)&&o(n.value)){let s=Object.getOwnPropertyDescriptor(e,r);o(s.value)?e[r]=t.merge({},e[r],i[r]):Reflect.defineProperty(e,r,n)}else Reflect.defineProperty(e,r,n);else Reflect.defineProperty(e,r,n)}return e},t.merge=(...e)=>{let i={};for(let r of e)t.mixin(i,r);return i},t.mixinEmitter=(e,i)=>{let r=i.constructor.prototype;for(let n of Object.keys(r)){let s=r[n];t.define(e,n,"function"==typeof s?s.bind(i):s)}},t.onExit=e=>{const t=(e,t)=>{r||(r=!0,n.forEach(e=>e()),!0===e&&process.exit(128+t))};0===n.length&&(process.once("SIGTERM",t.bind(null,!0,15)),process.once("SIGINT",t.bind(null,!0,2)),process.once("exit",t)),n.push(e)},t.define=(e,t,i)=>{Reflect.defineProperty(e,t,{value:i})},t.defineExport=(e,t,i)=>{let r;Reflect.defineProperty(e,t,{enumerable:!0,configurable:!0,set(e){r=e},get:()=>r?r():i()})}}),q={ctrl:{a:"first",b:"backward",c:"cancel",d:"deleteForward",e:"last",f:"forward",g:"reset",i:"tab",k:"cutForward",l:"reset",n:"newItem",m:"cancel",j:"submit",p:"search",r:"remove",s:"save",u:"undo",w:"cutLeft",x:"toggleCursor",v:"paste"},shift:{up:"shiftUp",down:"shiftDown",left:"shiftLeft",right:"shiftRight",tab:"prev"},fn:{up:"pageUp",down:"pageDown",left:"pageLeft",right:"pageRight",delete:"deleteForward"},option:{b:"backward",f:"forward",d:"cutRight",left:"cutLeft",up:"altUp",down:"altDown"},keys:{pageup:"pageUp",pagedown:"pageDown",home:"home",end:"end",cancel:"cancel",delete:"deleteForward",backspace:"delete",down:"down",enter:"submit",escape:"cancel",left:"left",space:"space",number:"number",return:"submit",right:"right",tab:"next",up:"up"}};const z=/^(?:\x1b)([a-zA-Z0-9])$/,H=/^(?:\x1b+)(O|N|\[|\[\[)(?:(\d+)(?:;(\d+))?([~^$])|(?:1;)?(\d+)?([a-zA-Z]))/,V={OP:"f1",OQ:"f2",OR:"f3",OS:"f4","[11~":"f1","[12~":"f2","[13~":"f3","[14~":"f4","[[A":"f1","[[B":"f2","[[C":"f3","[[D":"f4","[[E":"f5","[15~":"f5","[17~":"f6","[18~":"f7","[19~":"f8","[20~":"f9","[21~":"f10","[23~":"f11","[24~":"f12","[A":"up","[B":"down","[C":"right","[D":"left","[E":"clear","[F":"end","[H":"home",OA:"up",OB:"down",OC:"right",OD:"left",OE:"clear",OF:"end",OH:"home","[1~":"home","[2~":"insert","[3~":"delete","[4~":"end","[5~":"pageup","[6~":"pagedown","[[5~":"pageup","[[6~":"pagedown","[7~":"home","[8~":"end","[a":"up","[b":"down","[c":"right","[d":"left","[e":"clear","[2$":"insert","[3$":"delete","[5$":"pageup","[6$":"pagedown","[7$":"home","[8$":"end",Oa:"up",Ob:"down",Oc:"right",Od:"left",Oe:"clear","[2^":"insert","[3^":"delete","[5^":"pageup","[6^":"pagedown","[7^":"home","[8^":"end","[Z":"tab"},Y=(e="",t={})=>{let i,r=$({name:t.name,ctrl:!1,meta:!1,shift:!1,option:!1,sequence:e,raw:e},t);if(Buffer.isBuffer(e)?e[0]>127&&void 0===e[1]?(e[0]-=128,e=""+String(e)):e=String(e):void 0!==e&&"string"!=typeof e?e=String(e):e||(e=r.sequence||""),r.sequence=r.sequence||e||r.name,"\r"===e)r.raw=void 0,r.name="return";else if("\n"===e)r.name="enter";else if("\t"===e)r.name="tab";else if("\b"===e||""===e||""===e||"\b"===e)r.name="backspace",r.meta=""===e.charAt(0);else if(""===e||""===e)r.name="escape",r.meta=2===e.length;else if(" "===e||" "===e)r.name="space",r.meta=2===e.length;else if(e<="")r.name=String.fromCharCode(e.charCodeAt(0)+"a".charCodeAt(0)-1),r.ctrl=!0;else if(1===e.length&&e>="0"&&e<="9")r.name="number";else if(1===e.length&&e>="a"&&e<="z")r.name=e;else if(1===e.length&&e>="A"&&e<="Z")r.name=e.toLowerCase(),r.shift=!0;else if(i=z.exec(e))r.meta=!0,r.shift=/^[A-Z]$/.test(i[1]);else if(i=H.exec(e)){let t=[...e];""===t[0]&&""===t[1]&&(r.option=!0);let n=[i[1],i[2],i[4],i[6]].filter(Boolean).join(""),s=(i[3]||i[5]||1)-1;r.ctrl=!!(4&s),r.meta=!!(10&s),r.shift=!!(1&s),r.code=n,r.name=V[n],r.shift=function(e){return["[a","[b","[c","[d","[e","[2$","[3$","[5$","[6$","[7$","[8$","[Z"].includes(e)}(n)||r.shift,r.ctrl=function(e){return["Oa","Ob","Oc","Od","Oe","[2^","[3^","[5^","[6^","[7^","[8^"].includes(e)}(n)||r.ctrl}return r};Y.listen=(e={},t)=>{let{stdin:i}=e;if(!i||i!==process.stdin&&!i.isTTY)throw new Error("Invalid stream passed");let r=v.default.createInterface({terminal:!0,input:i});v.default.emitKeypressEvents(i,r);let n=(e,i)=>t(e,Y(e,i),r),s=i.isRaw;return i.isTTY&&i.setRawMode(!0),i.on("keypress",n),r.resume(),()=>{i.isTTY&&i.setRawMode(s),i.removeListener("keypress",n),r.pause(),r.close()}},Y.action=(e,t,i)=>{let r=$({},q,i);return t.ctrl?(t.action=r.ctrl[t.name],t):t.option&&r.option?(t.action=r.option[t.name],t):t.shift?(t.action=r.shift[t.name],t):(t.action=r.keys[t.name],t)};var X=Y;function W(e,t,i={}){let r=e.timers[t]={name:t,start:Date.now(),ms:0,tick:0},n=i.interval||120;r.frames=i.frames||[],r.loading=!0;let s=setInterval(()=>{r.ms=Date.now()-r.start,r.tick++,e.render()},n);return r.stop=()=>{r.loading=!1,clearInterval(s)},Reflect.defineProperty(r,"interval",{value:s}),e.once("close",()=>r.stop()),r.stop}const{define:K,width:J}=U,Z={default:G.noop,noop:G.noop,set inverse(e){this._inverse=e},get inverse(){return this._inverse||U.inverse(this.primary)},set complement(e){this._complement=e},get complement(){return this._complement||U.complement(this.primary)},primary:G.cyan,success:G.green,danger:G.magenta,strong:G.bold,warning:G.yellow,muted:G.dim,disabled:G.gray,dark:G.dim.gray,underline:G.underline,set info(e){this._info=e},get info(){return this._info||this.primary},set em(e){this._em=e},get em(){return this._em||this.primary.underline},set heading(e){this._heading=e},get heading(){return this._heading||this.muted.underline},set pending(e){this._pending=e},get pending(){return this._pending||this.primary},set submitted(e){this._submitted=e},get submitted(){return this._submitted||this.success},set cancelled(e){this._cancelled=e},get cancelled(){return this._cancelled||this.danger},set typing(e){this._typing=e},get typing(){return this._typing||this.dim},set placeholder(e){this._placeholder=e},get placeholder(){return this._placeholder||this.primary.dim},set highlight(e){this._highlight=e},get highlight(){return this._highlight||this.inverse},merge:(e={})=>{e.styles&&"boolean"==typeof e.styles.enabled&&(G.enabled=e.styles.enabled),e.styles&&"boolean"==typeof e.styles.visible&&(G.visible=e.styles.visible);let t=U.merge({},Z,e.styles);delete t.merge;for(let e of Object.keys(G))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>G[e]});for(let e of Object.keys(G.styles))t.hasOwnProperty(e)||Reflect.defineProperty(t,e,{get:()=>G[e]});return t}};var Q=Z;const ee="win32"===process.platform,te=$({},G.symbols,{upDownDoubleArrow:"‚áï",upDownDoubleArrow2:"‚¨ç",upDownArrow:"‚Üï",asterisk:"*",asterism:"‚ÅÇ",bulletWhite:"‚ó¶",electricArrow:"‚åÅ",ellipsisLarge:"‚ãØ",ellipsisSmall:"‚Ä¶",fullBlock:"‚ñà",identicalTo:"‚â°",indicator:G.symbols.check,leftAngle:"‚Äπ",mark:"‚Äª",minus:"‚àí",multiplication:"√ó",obelus:"√∑",percent:"%",pilcrow:"¬∂",pilcrow2:"‚ù°",pencilUpRight:"‚úê",pencilDownRight:"‚úé",pencilRight:"‚úè",plus:"+",plusMinus:"¬±",pointRight:"‚òû",rightAngle:"‚Ä∫",section:"¬ß",hexagon:{off:"‚¨°",on:"‚¨¢",disabled:"‚¨¢"},ballot:{on:"‚òë",off:"‚òê",disabled:"‚òí"},stars:{on:"‚òÖ",off:"‚òÜ",disabled:"‚òÜ"},folder:{on:"‚ñº",off:"‚ñ∂",disabled:"‚ñ∂"},prefix:{pending:G.symbols.question,submitted:G.symbols.check,cancelled:G.symbols.cross},separator:{pending:G.symbols.pointerSmall,submitted:G.symbols.middot,cancelled:G.symbols.middot},radio:{off:ee?"( )":"‚óØ",on:ee?"(*)":"‚óâ",disabled:ee?"(|)":"‚íæ"},numbers:["‚ì™","‚ë†","‚ë°","‚ë¢","‚ë£","‚ë§","‚ë•","‚ë¶","‚ëß","‚ë®","‚ë©","‚ë™","‚ë´","‚ë¨","‚ë≠","‚ëÆ","‚ëØ","‚ë∞","‚ë±","‚ë≤","‚ë≥","„âë","„âí","„âì","„âî","„âï","„âñ","„âó","„âò","„âô","„âö","„âõ","„âú","„âù","„âû","„âü","„ä±","„ä≤","„ä≥","„ä¥","„äµ","„ä∂","„ä∑","„ä∏","„äπ","„ä∫","„äª","„äº","„äΩ","„äæ","„äø"]});te.merge=e=>{let t=U.merge({},G.symbols,te,e.symbols);return delete t.merge,t};var ie=te,re=_(function(e,t){const i="Apple_Terminal"===process.env.TERM_PROGRAM,r=e.exports=t,n="[";let s=!1;const o=r.code={bell:"",beep:"",beginning:"[G",down:"[J",esc:n,getPosition:"[6n",hide:"[?25l",line:"[2K",lineEnd:"[K",lineStart:"[1K",restorePosition:n+(i?"8":"u"),savePosition:n+(i?"7":"s"),screen:"[2J",show:"[?25h",up:"[1J"},a=r.cursor={get hidden(){return s},hide:()=>(s=!0,o.hide),show:()=>(s=!1,o.show),forward:(e=1)=>`[${e}C`,backward:(e=1)=>`[${e}D`,nextLine:(e=1)=>"[E".repeat(e),prevLine:(e=1)=>"[F".repeat(e),up:(e=1)=>e?`[${e}A`:"",down:(e=1)=>e?`[${e}B`:"",right:(e=1)=>e?`[${e}C`:"",left:(e=1)=>e?`[${e}D`:"",to:(e,t)=>t?`[${t+1};${e+1}H`:`[${e+1}G`,move(e=0,t=0){let i="";return i+=e<0?a.left(-e):e>0?a.right(e):"",i+=t<0?a.up(-t):t>0?a.down(t):"",i},restore(e={}){let{after:t,cursor:i,initial:n,input:s,prompt:o,size:a,value:l}=e;if(n=U.isPrimitive(n)?String(n):"",s=U.isPrimitive(s)?String(s):"",l=U.isPrimitive(l)?String(l):"",a){let e=r.cursor.up(a)+r.cursor.to(o.length),t=s.length-i;return t>0&&(e+=r.cursor.left(t)),e}if(l||t){let e=!s&&n?-n.length:-s.length+i;return t&&(e-=t.length),""===s&&n&&!o.includes(n)&&(e+=n.length),r.cursor.move(e)}}},l=r.erase={screen:o.screen,up:o.up,down:o.down,line:o.line,lineEnd:o.lineEnd,lineStart:o.lineStart,lines(e){let t="";for(let i=0;i<e;i++)t+=r.erase.line+(i<e-1?r.cursor.up(1):"");return e&&(t+=r.code.beginning),t}};r.clear=(e="",t=process.stdout.columns)=>{if(!t)return l.line+a.to(0);let i=e.split(/\r?\n/),r=0;for(let e of i)r+=1+Math.floor(Math.max([...G.unstyle(e)].length-1,0)/t);return(l.line+a.prevLine()).repeat(r-1)+l.line+a.to(0)}});class ne extends b.default{constructor(e={}){super(),this.name=e.name,this.type=e.type,this.options=e,(e=>{e.options=U.merge({},e.options.theme,e.options),e.symbols=ie.merge(e.options),e.styles=Q.merge(e.options)})(this),(e=>{e.timers=e.timers||{};let t=e.options.timers;if(t)for(let i of Object.keys(t)){let r=t[i];"number"==typeof r&&(r={interval:r}),W(e,i,r)}})(this),this.state=new class{constructor(e){let t=e.options;K(this,"_prompt",e),this.type=e.type,this.name=e.name,this.message="",this.header="",this.footer="",this.error="",this.hint="",this.input="",this.cursor=0,this.index=0,this.lines=0,this.tick=0,this.prompt="",this.buffer="",this.width=J(t.stdout||process.stdout),Object.assign(this,t),this.name=this.name||this.message,this.message=this.message||this.name,this.symbols=e.symbols,this.styles=e.styles,this.required=new Set,this.cancelled=!1,this.submitted=!1}clone(){let e=$({},this);return e.status=this.status,e.buffer=Buffer.from(e.buffer),delete e.clone,e}set color(e){this._color=e}get color(){let e=this.prompt.styles;if(this.cancelled)return e.cancelled;if(this.submitted)return e.submitted;let t=this._color||e[this.status];return"function"==typeof t?t:e.pending}set loading(e){this._loading=e}get loading(){return"boolean"==typeof this._loading?this._loading:!!this.loadingChoices&&"choices"}get status(){return this.cancelled?"cancelled":this.submitted?"submitted":"pending"}}(this),this.initial=[e.initial,e.default].find(e=>null!=e),this.stdout=e.stdout||process.stdout,this.stdin=e.stdin||process.stdin,this.scale=e.scale||1,this.term=this.options.term||process.env.TERM_PROGRAM,this.margin=function(e){"number"==typeof e&&(e=[e,e,e,e]);let t=[].concat(e||[]),i=e=>e%2==0?"\n":" ",r=[];for(let e=0;e<4;e++){let n=i(e);r.push(t[e]?n.repeat(t[e]):"")}return r}(this.options.margin),this.setMaxListeners(0),function(e){let t=t=>void 0===e[t]||"function"==typeof e[t],i=["actions","choices","initial","margin","roles","styles","symbols","theme","timers","value"],r=["body","footer","error","header","hint","indicator","message","prefix","separator","skip"];for(let n of Object.keys(e.options)){if(i.includes(n))continue;if(/^on[A-Z]/.test(n))continue;let s=e.options[n];"function"==typeof s&&t(n)?r.includes(n)||(e[n]=s.bind(e)):"function"!=typeof e[n]&&(e[n]=s)}}(this)}async keypress(e,t={}){this.keypressed=!0;let i=X.action(e,X(e,t),this.options.actions);this.state.keypress=i,this.emit("keypress",e,i),this.emit("state",this.state.clone());let r=this.options[i.action]||this[i.action]||this.dispatch;if("function"==typeof r)return await r.call(this,e,i);this.alert()}alert(){delete this.state.alert,!1===this.options.show?this.emit("alert"):this.stdout.write(re.code.beep)}cursorHide(){this.stdout.write(re.cursor.hide()),U.onExit(()=>this.cursorShow())}cursorShow(){this.stdout.write(re.cursor.show())}write(e){e&&(this.stdout&&!1!==this.state.show&&this.stdout.write(e),this.state.buffer+=e)}clear(e=0){let t=this.state.buffer;this.state.buffer="",(t||e)&&!1!==this.options.show&&this.stdout.write(re.cursor.down(e)+re.clear(t,this.width))}restore(){if(this.state.closed||!1===this.options.show)return;let{prompt:e,after:t,rest:i}=this.sections(),{cursor:r,initial:n="",input:s="",value:o=""}=this,a=this.state.size=i.length,l=re.cursor.restore({after:t,cursor:r,initial:n,input:s,prompt:e,size:a,value:o});l&&this.stdout.write(l)}sections(){let{buffer:e,input:t,prompt:i}=this.state;i=G.unstyle(i);let r=G.unstyle(e),n=r.indexOf(i),s=r.slice(0,n),o=r.slice(n).split("\n"),a=o[0],l=o[o.length-1],c=(i+(t?" "+t:"")).length,u=c<a.length?a.slice(c+1):"";return{header:s,prompt:a,after:u,rest:o.slice(1),last:l}}async submit(){this.state.submitted=!0,this.state.validating=!0,this.options.onSubmit&&await this.options.onSubmit.call(this,this.name,this.value,this);let e=this.state.error||await this.validate(this.value,this.state);if(!0!==e){let t="\n"+this.symbols.pointer+" ";return t+="string"==typeof e?e.trim():"Invalid input",this.state.error="\n"+this.styles.danger(t),this.state.submitted=!1,await this.render(),await this.alert(),this.state.validating=!1,void(this.state.error=void 0)}this.state.validating=!1,await this.render(),await this.close(),this.value=await this.result(this.value),this.emit("submit",this.value)}async cancel(e){this.state.cancelled=this.state.submitted=!0,await this.render(),await this.close(),"function"==typeof this.options.onCancel&&await this.options.onCancel.call(this,this.name,this.value,this),this.emit("cancel",await this.error(e))}async close(){this.state.closed=!0;try{let e=this.sections(),t=Math.ceil(e.prompt.length/this.width);e.rest&&this.write(re.cursor.down(e.rest.length)),this.write("\n".repeat(t))}catch(e){}this.emit("close")}start(){this.stop||!1===this.options.show||(this.stop=X.listen(this,this.keypress.bind(this)),this.once("close",this.stop))}async skip(){return this.skipped=!0===this.options.skip,"function"==typeof this.options.skip&&(this.skipped=await this.options.skip.call(this,this.name,this.value)),this.skipped}async initialize(){let{format:e,options:t,result:i}=this;if(this.format=()=>e.call(this,this.value),this.result=()=>i.call(this,this.value),"function"==typeof t.initial&&(this.initial=await t.initial.call(this,this)),"function"==typeof t.onRun&&await t.onRun.call(this,this),"function"==typeof t.onSubmit){let e=t.onSubmit.bind(this),i=this.submit.bind(this);delete this.options.onSubmit,this.submit=async()=>(await e(this.name,this.value,this),i())}await this.start(),await this.render()}render(){throw new Error("expected prompt to have a custom render method")}run(){return new Promise(async(e,t)=>{if(this.once("submit",e),this.once("cancel",t),await this.skip())return this.render=()=>{},this.submit();await this.initialize(),this.emit("run")})}async element(e,t,i){let{options:r,state:n,symbols:s,timers:o}=this;n.timer=o&&o[e];let a=r[e]||n[e]||s[e],l=t&&null!=t[e]?t[e]:await a;if(""===l)return l;let c=await this.resolve(l,n,t,i);return!c&&t&&t[e]?this.resolve(a,n,t,i):c}async prefix(){let e=await this.element("prefix")||this.symbols,t=this.state;return t.timer=this.timers&&this.timers.prefix,U.isObject(e)&&(e=e[t.status]||e.pending),U.hasColor(e)?e:(this.styles[t.status]||this.styles.pending)(e)}async message(){let e=await this.element("message");return U.hasColor(e)?e:this.styles.strong(e)}async separator(){let e=await this.element("separator")||this.symbols,t=this.state;t.timer=this.timers&&this.timers.separator;let i=e[t.status]||e.pending||t.separator,r=await this.resolve(i,t);return U.isObject(r)&&(r=r[t.status]||r.pending),U.hasColor(r)?r:this.styles.muted(r)}async pointer(e,t){let i=await this.element("pointer",e,t);if("string"==typeof i&&U.hasColor(i))return i;if(i){let e=this.styles,r=this.index===t,n=r?e.primary:e=>e,s=await this.resolve(i[r?"on":"off"]||i,this.state),o=U.hasColor(s)?s:n(s);return r?o:" ".repeat(s.length)}}async indicator(e,t){let i=await this.element("indicator",e,t);if("string"==typeof i&&U.hasColor(i))return i;if(i){let t=this.styles,r=!0===e.enabled,n=r?t.success:t.dark,s=i[r?"on":"off"]||i;return U.hasColor(s)?s:n(s)}return""}body(){return null}footer(){if("pending"===this.state.status)return this.element("footer")}header(){if("pending"===this.state.status)return this.element("header")}async hint(){if("pending"===this.state.status&&!this.isValue(this.state.input)){let e=await this.element("hint");return U.hasColor(e)?e:this.styles.muted(e)}}error(e){return this.state.submitted?"":e||this.state.error}format(e){return e}result(e){return e}validate(e){return!0!==this.options.required||this.isValue(e)}isValue(e){return null!=e&&""!==e}resolve(e,...t){return U.resolve(this,e,...t)}get base(){return ne.prototype}get style(){return this.styles[this.state.status]}get height(){return this.options.rows||U.height(this.stdout,25)}get width(){return this.options.columns||U.width(this.stdout,80)}get size(){return{width:this.width,height:this.height}}set cursor(e){this.state.cursor=e}get cursor(){return this.state.cursor}set input(e){this.state.input=e}get input(){return this.state.input}set value(e){this.state.value=e}get value(){let{input:e,value:t}=this.state,i=[t,e].find(this.isValue.bind(this));return this.isValue(i)?i:this.initial}static get prompt(){return e=>new this(e).run()}}var se=ne;const oe={default:(e,t)=>t,checkbox(e,t){throw new Error("checkbox role is not implemented yet")},editable(e,t){throw new Error("editable role is not implemented yet")},expandable(e,t){throw new Error("expandable role is not implemented yet")},heading:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||"",t),input(e,t){throw new Error("input role is not implemented yet")},option:(e,t)=>oe.default(e,t),radio(e,t){throw new Error("radio role is not implemented yet")},separator:(e,t)=>(t.disabled="",t.indicator=[t.indicator," "].find(e=>null!=e),t.message=t.message||e.symbols.line.repeat(5),t),spacer:(e,t)=>t},{reorder:ae,scrollUp:le,scrollDown:ce,isObject:ue,swap:he}=U;function de(e,t){if(t instanceof Promise)return t;if("function"==typeof t){if(U.isAsyncFn(t))return t;t=t.call(e,e)}for(let i of t){if(Array.isArray(i.choices)){let t=i.choices.filter(t=>!e.isDisabled(t));i.enabled=t.every(e=>!0===e.enabled)}!0===e.isDisabled(i)&&delete i.enabled}return t}var pe=class extends se{constructor(e){super(e),this.cursorHide(),this.maxSelected=e.maxSelected||Infinity,this.multiple=e.multiple||!1,this.initial=e.initial||0,this.delay=e.delay||0,this.longest=0,this.num=""}async initialize(){"function"==typeof this.options.initial&&(this.initial=await this.options.initial.call(this)),await this.reset(!0),await super.initialize()}async reset(){let{choices:e,initial:t,autofocus:i,suggest:r}=this.options;if(this.state._choices=[],this.state.choices=[],this.choices=await Promise.all(await this.toChoices(e)),this.choices.forEach(e=>e.enabled=!1),"function"!=typeof r&&0===this.selectable.length)throw new Error("At least one choice must be selectable");ue(t)&&(t=Object.keys(t)),Array.isArray(t)?(null!=i&&(this.index=this.findIndex(i)),t.forEach(e=>this.enable(this.find(e))),await this.render()):(null!=i&&(t=i),"string"==typeof t&&(t=this.findIndex(t)),"number"==typeof t&&t>-1&&(this.index=Math.max(0,Math.min(t,this.choices.length)),this.enable(this.find(this.index)))),this.isDisabled(this.focused)&&await this.down()}async toChoices(e,t){this.state.loadingChoices=!0;let i=[],r=0,n=async(e,t)=>{"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e);for(let s=0;s<e.length;s++){let o=e[s]=await this.toChoice(e[s],r++,t);i.push(o),o.choices&&await n(o.choices,o)}return i};return n(e,t).then(e=>(this.state.loadingChoices=!1,e))}async toChoice(e,t,i){if("function"==typeof e&&(e=await e.call(this,this)),e instanceof Promise&&(e=await e),"string"==typeof e&&(e={name:e}),e.normalized)return e;e.normalized=!0;let r=e.value,n=((e,t={})=>{let i=U.merge({},oe,t.roles);return i[e]||i.default})(e.role,this.options);if("string"!=typeof(e=n(this,e)).disabled||e.hint||(e.hint=e.disabled,e.disabled=!0),!0===e.disabled&&null==e.hint&&(e.hint="(disabled)"),null!=e.index)return e;e.name=e.name||e.key||e.title||e.value||e.message,e.message=e.message||e.name||"",e.value=[e.value,e.name].find(this.isValue.bind(this)),e.input="",e.index=t,e.cursor=0,U.define(e,"parent",i),e.level=i?i.level+1:1,null==e.indent&&(e.indent=i?i.indent+"  ":e.indent||""),e.path=i?i.path+"."+e.name:e.name,e.enabled=!(!this.multiple||this.isDisabled(e)||!e.enabled&&!this.isSelected(e)),this.isDisabled(e)||(this.longest=Math.max(this.longest,G.unstyle(e.message).length));let s=$({},e);return e.reset=(t=s.input,i=s.value)=>{for(let t of Object.keys(s))e[t]=s[t];e.input=t,e.value=i},null==r&&"function"==typeof e.initial&&(e.input=await e.initial.call(this,this.state,e,t)),e}async onChoice(e,t){this.emit("choice",e,t,this),"function"==typeof e.onChoice&&await e.onChoice.call(this,this.state,e,t)}async addChoice(e,t,i){let r=await this.toChoice(e,t,i);return this.choices.push(r),this.index=this.choices.length-1,this.limit=this.choices.length,r}async newItem(e,t,i){let r=$({name:"New choice name?",editable:!0,newChoice:!0},e),n=await this.addChoice(r,t,i);return n.updateChoice=()=>{delete n.newChoice,n.name=n.message=n.input,n.input="",n.cursor=0},this.render()}indent(e){return null==e.indent?e.level>1?"  ".repeat(e.level-1):"":e.indent}dispatch(e,t){if(this.multiple&&this[t.name])return this[t.name]();this.alert()}focus(e,t){return"boolean"!=typeof t&&(t=e.enabled),t&&!e.enabled&&this.selected.length>=this.maxSelected?this.alert():(this.index=e.index,e.enabled=t&&!this.isDisabled(e),e)}space(){return this.multiple?(this.toggle(this.focused),this.render()):this.alert()}a(){if(this.maxSelected<this.choices.length)return this.alert();let e=this.selectable.every(e=>e.enabled);return this.choices.forEach(t=>t.enabled=!e),this.render()}i(){return this.choices.length-this.selected.length>this.maxSelected?this.alert():(this.choices.forEach(e=>e.enabled=!e.enabled),this.render())}g(e=this.focused){return this.choices.some(e=>!!e.parent)?(this.toggle(e.parent&&!e.choices?e.parent:e),this.render()):this.a()}toggle(e,t){if(!e.enabled&&this.selected.length>=this.maxSelected)return this.alert();"boolean"!=typeof t&&(t=!e.enabled),e.enabled=t,e.choices&&e.choices.forEach(e=>this.toggle(e,t));let i=e.parent;for(;i;){let e=i.choices.filter(e=>this.isDisabled(e));i.enabled=e.every(e=>!0===e.enabled),i=i.parent}return de(this,this.choices),this.emit("toggle",e,this),e}enable(e){return this.selected.length>=this.maxSelected?this.alert():(e.enabled=!this.isDisabled(e),e.choices&&e.choices.forEach(this.enable.bind(this)),e)}disable(e){return e.enabled=!1,e.choices&&e.choices.forEach(this.disable.bind(this)),e}number(e){this.num+=e;let t=e=>{let t=Number(e);if(t>this.choices.length-1)return this.alert();let i=this.focused,r=this.choices.find(e=>t===e.index);if(!r.enabled&&this.selected.length>=this.maxSelected)return this.alert();if(-1===this.visible.indexOf(r)){let e=ae(this.choices),t=e.indexOf(r);if(i.index>t){let i=e.slice(t,t+this.limit),r=e.filter(e=>!i.includes(e));this.choices=i.concat(r)}else{let i=t-this.limit+1;this.choices=e.slice(i).concat(e.slice(0,i))}}return this.index=this.choices.indexOf(r),this.toggle(this.focused),this.render()};return clearTimeout(this.numberTimeout),new Promise(e=>{let i=this.choices.length,r=this.num,n=(i=!1,n)=>{clearTimeout(this.numberTimeout),i&&(n=t(r)),this.num="",e(n)};return"0"===r||1===r.length&&Number(r+"0")>i?n(!0):Number(r)>i?n(!1,this.alert()):void(this.numberTimeout=setTimeout(()=>n(!0),this.delay))})}home(){return this.choices=ae(this.choices),this.index=0,this.render()}end(){let e=this.choices.length-this.limit,t=ae(this.choices);return this.choices=t.slice(e).concat(t.slice(0,e)),this.index=this.limit-1,this.render()}first(){return this.index=0,this.render()}last(){return this.index=this.visible.length-1,this.render()}prev(){return this.visible.length<=1?this.alert():this.up()}next(){return this.visible.length<=1?this.alert():this.down()}right(){return this.cursor>=this.input.length?this.alert():(this.cursor++,this.render())}left(){return this.cursor<=0?this.alert():(this.cursor--,this.render())}up(){let e=this.choices.length,t=this.visible.length,i=this.index;return!1===this.options.scroll&&0===i?this.alert():e>t&&0===i?this.scrollUp():(this.index=(i-1%e+e)%e,this.isDisabled()?this.up():this.render())}down(){let e=this.choices.length,t=this.visible.length,i=this.index;return!1===this.options.scroll&&i===t-1?this.alert():e>t&&i===t-1?this.scrollDown():(this.index=(i+1)%e,this.isDisabled()?this.down():this.render())}scrollUp(e=0){return this.choices=le(this.choices),this.index=e,this.isDisabled()?this.up():this.render()}scrollDown(e=this.visible.length-1){return this.choices=ce(this.choices),this.index=e,this.isDisabled()?this.down():this.render()}async shiftUp(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index-1),await this.up(),void(this.sorting=!1)):this.scrollUp(this.index)}async shiftDown(){return!0===this.options.sort?(this.sorting=!0,this.swap(this.index+1),await this.down(),void(this.sorting=!1)):this.scrollDown(this.index)}pageUp(){return this.visible.length<=1?this.alert():(this.limit=Math.max(this.limit-1,0),this.index=Math.min(this.limit-1,this.index),this._limit=this.limit,this.isDisabled()?this.up():this.render())}pageDown(){return this.visible.length>=this.choices.length?this.alert():(this.index=Math.max(0,this.index),this.limit=Math.min(this.limit+1,this.choices.length),this._limit=this.limit,this.isDisabled()?this.down():this.render())}swap(e){he(this.choices,this.index,e)}isDisabled(e=this.focused){return!(!e||!["disabled","collapsed","hidden","completing","readonly"].some(t=>!0===e[t]))||e&&"heading"===e.role}isEnabled(e=this.focused){if(Array.isArray(e))return e.every(e=>this.isEnabled(e));if(e.choices){let t=e.choices.filter(e=>!this.isDisabled(e));return e.enabled&&t.every(e=>this.isEnabled(e))}return e.enabled&&!this.isDisabled(e)}isChoice(e,t){return e.name===t||e.index===Number(t)}isSelected(e){return Array.isArray(this.initial)?this.initial.some(t=>this.isChoice(e,t)):this.isChoice(e,this.initial)}map(e=[],t="value"){return[].concat(e||[]).reduce((e,i)=>(e[i]=this.find(i,t),e),{})}filter(e,t){let i=(this.options.multiple?this.state._choices:this.choices).filter("function"==typeof e?e:(t,i)=>[t.name,i].includes(e));return t?i.map(e=>e[t]):i}find(e,t){if(ue(e))return t?e[t]:e;let i=this.choices.find("function"==typeof e?e:(t,i)=>[t.name,i].includes(e));return i?t?i[t]:i:void 0}findIndex(e){return this.choices.indexOf(this.find(e))}async submit(){let e=this.focused;if(!e)return this.alert();if(e.newChoice)return e.input?(e.updateChoice(),this.render()):this.alert();if(this.choices.some(e=>e.newChoice))return this.alert();let{reorder:t,sort:i}=this.options,r=!0===this.multiple,n=this.selected;return void 0===n?this.alert():(Array.isArray(n)&&!1!==t&&!0!==i&&(n=U.reorder(n)),this.value=r?n.map(e=>e.name):n.name,super.submit())}set choices(e=[]){this.state._choices=this.state._choices||[],this.state.choices=e;for(let t of e)this.state._choices.some(e=>e.name===t.name)||this.state._choices.push(t);if(!this._initial&&this.options.initial){this._initial=!0;let e=this.initial;if("string"==typeof e||"number"==typeof e){let t=this.find(e);t&&(this.initial=t.index,this.focus(t,!0))}}}get choices(){return de(this,this.state.choices||[])}set visible(e){this.state.visible=e}get visible(){return(this.state.visible||this.choices).slice(0,this.limit)}set limit(e){this.state.limit=e}get limit(){let{state:e,options:t,choices:i}=this;return Math.min(e.limit||this._limit||t.limit||i.length,this.height)}set value(e){super.value=e}get value(){return"string"!=typeof super.value&&super.value===this.initial?this.input:super.value}set index(e){this.state.index=e}get index(){return Math.max(0,this.state?this.state.index:0)}get enabled(){return this.filter(this.isEnabled.bind(this))}get focused(){let e=this.choices[this.index];return e&&this.state.submitted&&!0!==this.multiple&&(e.enabled=!0),e}get selectable(){return this.choices.filter(e=>!this.isDisabled(e))}get selected(){return this.multiple?this.enabled:this.focused}},fe=class extends pe{constructor(e){super(e),this.emptyError=this.options.emptyError||"No items were selected"}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}separator(){if(this.options.separator)return super.separator();let e=this.styles.muted(this.symbols.ellipsis);return this.state.submitted?super.separator():e}pointer(e,t){return!this.multiple||this.options.pointer?super.pointer(e,t):""}indicator(e,t){return this.multiple?super.indicator(e,t):""}choiceMessage(e,t){let i=this.resolve(e.message,this.state,e,t);return"heading"!==e.role||U.hasColor(i)||(i=this.styles.strong(i)),this.resolve(i,this.state,e,t)}choiceSeparator(){return":"}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,r=await this.pointer(e,t),n=await this.indicator(e,t)+(e.pad||""),s=await this.resolve(e.hint,this.state,e,t);s&&!U.hasColor(s)&&(s=this.styles.muted(s));let o=this.indent(e),a=await this.choiceMessage(e,t),l=()=>[this.margin[3],o+r+n,a,this.margin[1],s].filter(Boolean).join(" ");return"heading"===e.role?l():e.disabled?(U.hasColor(a)||(a=this.styles.disabled(a)),l()):(i&&(a=this.styles.em(a)),l())}async renderChoices(){if("choices"===this.state.loading)return this.styles.warning("Loading choices");if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);t.length||t.push(this.styles.danger("No matching choices"));let i,r=this.margin[0]+t.join("\n");return this.options.choicesHeader&&(i=await this.resolve(this.options.choicesHeader,this.state)),[i,r].filter(Boolean).join("\n")}format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(e.name)).join(", "):this.styles.primary(this.selected.name)}async render(){let{submitted:e,size:t}=this.state,i="",r=await this.header(),n=await this.prefix(),s=await this.separator(),o=await this.message();!1!==this.options.promptLine&&(i=[n,o,s,""].join(" "),this.state.prompt=i);let a=await this.format(),l=await this.error()||await this.hint(),c=await this.renderChoices(),u=await this.footer();a&&(i+=a),l&&!i.includes(l)&&(i+=" "+l),e&&!a&&!c.trim()&&this.multiple&&null!=this.emptyError&&(i+=this.styles.danger(this.emptyError)),this.clear(t),this.write([r,i,c,u].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},me=class extends fe{constructor(e){super(e),this.cursorShow()}moveCursor(e){this.state.cursor+=e}dispatch(e){return this.append(e)}space(e){return this.options.multiple?super.space(e):this.append(e)}append(e){let{cursor:t,input:i}=this.state;return this.input=i.slice(0,t)+e+i.slice(t),this.moveCursor(1),this.complete()}delete(){let{cursor:e,input:t}=this.state;return t?(this.input=t.slice(0,e-1)+t.slice(e),this.moveCursor(-1),this.complete()):this.alert()}deleteForward(){let{cursor:e,input:t}=this.state;return void 0===t[e]?this.alert():(this.input=`${t}`.slice(0,e)+`${t}`.slice(e+1),this.complete())}number(e){return this.append(e)}async complete(){this.completing=!0,this.choices=await this.suggest(this.input,this.state._choices),this.state.limit=void 0,this.index=Math.min(Math.max(this.visible.length-1,0),this.index),await this.render(),this.completing=!1}suggest(e=this.input,t=this.state._choices){if("function"==typeof this.options.suggest)return this.options.suggest.call(this,e,t);let i=e.toLowerCase();return t.filter(e=>e.message.toLowerCase().includes(i))}pointer(){return""}format(){if(!this.focused)return this.input;if(this.options.multiple&&this.state.submitted)return this.selected.map(e=>this.styles.primary(e.message)).join(", ");if(this.state.submitted){let e=this.value=this.input=this.focused.value;return this.styles.primary(e)}return this.input}async render(){if("pending"!==this.state.status)return super.render();let e=((e,t)=>{let i=this.input.toLowerCase();return e=>{let r=e.toLowerCase().indexOf(i),n=t(e.slice(r,r+i.length));return r>=0?e.slice(0,r)+n+e.slice(r+i.length):e}})(0,this.options.highlight?this.options.highlight.bind(this):this.styles.placeholder),t=this.choices;this.choices=t.map(t=>$({},t,{message:e(t.message)})),await super.render(),this.choices=t}submit(){return this.options.multiple&&(this.value=this.selected.map(e=>e.name)),super.submit()}},ye=(e,t={})=>{e.cursorHide();let{input:i="",initial:r="",pos:n,showCursor:s=!0,color:o}=t,a=o||e.styles.placeholder,l=U.inverse(e.styles.primary),c=t=>l(e.styles.black(t)),u=i,h=c(" ");if(e.blink&&!0===e.blink.off&&(c=e=>e,h=""),s&&0===n&&""===r&&""===i)return c(" ");if(s&&0===n&&(i===r||""===i))return c(r[0])+a(r.slice(1));r=U.isPrimitive(r)?`${r}`:"",i=U.isPrimitive(i)?`${i}`:"";let d=r&&r.startsWith(i)&&r!==i,p=d?c(r[i.length]):h;if(n!==i.length&&!0===s&&(u=i.slice(0,n)+c(i[n])+i.slice(n+1),p=""),!1===s&&(p=""),d){let t=e.styles.unstyle(u+p);return u+p+a(r.slice(t.length))}return u+p},ge=class extends fe{constructor(e){super($({},e,{multiple:!0})),this.type="form",this.initial=this.options.initial,this.align=[this.options.align,"right"].find(e=>null!=e),this.emptyError="",this.values={}}async reset(e){return await super.reset(),!0===e&&(this._index=this.index),this.index=this._index,this.values={},this.choices.forEach(e=>e.reset&&e.reset()),this.render()}dispatch(e){return!!e&&this.append(e)}append(e){let t=this.focused;if(!t)return this.alert();let{cursor:i,input:r}=t;return t.value=t.input=r.slice(0,i)+e+r.slice(i),t.cursor++,this.render()}delete(){let e=this.focused;if(!e||e.cursor<=0)return this.alert();let{cursor:t,input:i}=e;return e.value=e.input=i.slice(0,t-1)+i.slice(t),e.cursor--,this.render()}deleteForward(){let e=this.focused;if(!e)return this.alert();let{cursor:t,input:i}=e;if(void 0===i[t])return this.alert();let r=`${i}`.slice(0,t)+`${i}`.slice(t+1);return e.value=e.input=r,this.render()}right(){let e=this.focused;return e?e.cursor>=e.input.length?this.alert():(e.cursor++,this.render()):this.alert()}left(){let e=this.focused;return e?e.cursor<=0?this.alert():(e.cursor--,this.render()):this.alert()}space(e,t){return this.dispatch(e,t)}number(e,t){return this.dispatch(e,t)}next(){let e=this.focused;if(!e)return this.alert();let{initial:t,input:i}=e;return t&&t.startsWith(i)&&i!==t?(e.value=e.input=t,e.cursor=e.value.length,this.render()):super.next()}prev(){let e=this.focused;return e?0===e.cursor?super.prev():(e.value=e.input="",e.cursor=0,this.render()):this.alert()}separator(){return""}format(e){return this.state.submitted?"":super.format(e)}pointer(){return""}indicator(e){return e.input?"‚¶ø":"‚äô"}async choiceSeparator(e,t){let i=await this.resolve(e.separator,this.state,e,t)||":";return i?" "+this.styles.disabled(i):""}async renderChoice(e,t){await this.onChoice(e,t);let{state:i,styles:r}=this,{cursor:n,initial:s="",name:o,hint:a,input:l=""}=e,{muted:c,submitted:u,primary:h,danger:d}=r,p=a,f=this.index===t,m=e.validate||(()=>!0),y=await this.choiceSeparator(e,t),g=e.message;"right"===this.align&&(g=g.padStart(this.longest+1," ")),"left"===this.align&&(g=g.padEnd(this.longest+1," "));let w=this.values[o]=l||s,b=l?"success":"dark";!0!==await m.call(e,w,this.state)&&(b="danger");let v=(0,r[b])(await this.indicator(e,t))+(e.pad||""),E=this.indent(e),S=()=>[E,v,g+y,l,p].filter(Boolean).join(" ");return i.submitted?(g=G.unstyle(g),l=u(l),p="",S()):(l=e.format?await e.format.call(this,l,e,t):ye(this,{input:l,initial:s,pos:n,showCursor:f,color:this.styles.muted}),this.isValue(l)||(l=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,w,e,t)),f&&(g=h(g)),e.error?l+=(l?" ":"")+d(e.error.trim()):e.hint&&(l+=(l?" ":"")+c(e.hint.trim())),S())}async submit(){return this.value=this.values,super.base.submit.call(this)}};const we=()=>{throw new Error("expected prompt to have a custom authenticate method")},be=(e=we)=>class extends ge{constructor(e){super(e)}async submit(){this.value=await e.call(this,this.values,this.state),super.base.submit.call(this)}static create(e){return be(e)}};var ve=be();function Ee(e,t){return e.username===this.options.username&&e.password===this.options.password}const Se=(e=Ee)=>{const t=[{name:"username",message:"username"},{name:"password",message:"password",format(e){return this.options.showPassword?e:(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length))}}];class i extends(ve.create(e)){constructor(e){super($({},e,{choices:t}))}static create(e){return Se(e)}}return i};var Ie=Se();const{isPrimitive:Oe,hasColor:xe}=U;var Te=class extends se{constructor(e){super(e),this.cursorHide()}async initialize(){let e=await this.resolve(this.initial,this.state);this.input=await this.cast(e),await super.initialize()}dispatch(e){return this.isValue(e)?(this.input=e,this.submit()):this.alert()}format(e){let{styles:t,state:i}=this;return i.submitted?t.success(e):t.primary(e)}cast(e){return this.isTrue(e)}isTrue(e){return/^[ty1]/i.test(e)}isFalse(e){return/^[fn0]/i.test(e)}isValue(e){return Oe(e)&&(this.isTrue(e)||this.isFalse(e))}async hint(){if("pending"===this.state.status){let e=await this.element("hint");return xe(e)?e:this.styles.muted(e)}}async render(){let{input:e,size:t}=this.state,i=await this.prefix(),r=await this.separator(),n=[i,await this.message(),this.styles.muted(this.default),r].filter(Boolean).join(" ");this.state.prompt=n;let s=await this.header(),o=this.value=this.cast(e),a=await this.format(o),l=await this.error()||await this.hint(),c=await this.footer();l&&!n.includes(l)&&(a+=" "+l),n+=" "+a,this.clear(t),this.write([s,n,c].filter(Boolean).join("\n")),this.restore()}set value(e){super.value=e}get value(){return this.cast(super.value)}},Ce=class extends Te{constructor(e){super(e),this.default=this.options.default||(this.initial?"(Y/n)":"(y/N)")}};const Re=ge.prototype;var Ae=class extends fe{constructor(e){super($({},e,{multiple:!0})),this.align=[this.options.align,"left"].find(e=>null!=e),this.emptyError="",this.values={}}dispatch(e,t){let i=this.focused;return i.editable||(i.parent||{}).editable||"a"!==e&&"i"!==e?Re.dispatch.call(this,e,t):super[e]()}append(e,t){return Re.append.call(this,e,t)}delete(e,t){return Re.delete.call(this,e,t)}space(e){return this.focused.editable?this.append(e):super.space()}number(e){return this.focused.editable?this.append(e):super.number(e)}next(){return this.focused.editable?Re.next.call(this):super.next()}prev(){return this.focused.editable?Re.prev.call(this):super.prev()}async indicator(e,t){let i=e.editable?e.indicator||"":super.indicator(e,t);return await this.resolve(i,this.state,e,t)||""}indent(e){return"heading"===e.role?"":e.editable?" ":"  "}async renderChoice(e,t){return e.indent="",e.editable?Re.renderChoice.call(this,e,t):super.renderChoice(e,t)}error(){return""}footer(){return this.state.error}async validate(){let e=!0;for(let t of this.choices){if("function"!=typeof t.validate)continue;if("heading"===t.role)continue;let i=t.parent?this.value[t.parent.name]:this.value;if(t.editable?i=t.value===t.name?t.initial||"":t.value:this.isDisabled(t)||(i=!0===t.enabled),e=await t.validate(i,this.state),!0!==e)break}return!0!==e&&(this.state.error="string"==typeof e?e:"Invalid Input"),e}submit(){if(!0===this.focused.newChoice)return super.submit();if(this.choices.some(e=>e.newChoice))return this.alert();this.value={};for(let e of this.choices){let t=e.parent?this.value[e.parent.name]:this.value;"heading"!==e.role?e.editable?t[e.name]=e.value===e.name?e.initial||"":e.value:this.isDisabled(e)||(t[e.name]=!0===e.enabled):this.value[e.name]={}}return this.base.submit.call(this)}};const{isPrimitive:ke}=U;var Pe=class extends se{constructor(e){super(e),this.initial=ke(this.initial)?String(this.initial):"",this.initial&&this.cursorHide(),this.state.prevCursor=0,this.state.clipboard=[]}async keypress(e,t={}){let i=this.state.prevKeypress;return this.state.prevKeypress=t,!0!==this.options.multiline||"return"!==t.name||i&&"return"===i.name?super.keypress(e,t):this.append("\n",t)}moveCursor(e){this.cursor+=e}reset(){return this.input=this.value="",this.cursor=0,this.render()}dispatch(e,t){if(!e||t.ctrl||t.code)return this.alert();this.append(e)}append(e){let{cursor:t,input:i}=this.state;this.input=`${i}`.slice(0,t)+e+`${i}`.slice(t),this.moveCursor(String(e).length),this.render()}insert(e){this.append(e)}delete(){let{cursor:e,input:t}=this.state;if(e<=0)return this.alert();this.input=`${t}`.slice(0,e-1)+`${t}`.slice(e),this.moveCursor(-1),this.render()}deleteForward(){let{cursor:e,input:t}=this.state;if(void 0===t[e])return this.alert();this.input=`${t}`.slice(0,e)+`${t}`.slice(e+1),this.render()}cutForward(){let e=this.cursor;if(this.input.length<=e)return this.alert();this.state.clipboard.push(this.input.slice(e)),this.input=this.input.slice(0,e),this.render()}cutLeft(){let e=this.cursor;if(0===e)return this.alert();let t=this.input.slice(0,e),i=this.input.slice(e),r=t.split(" ");this.state.clipboard.push(r.pop()),this.input=r.join(" "),this.cursor=this.input.length,this.input+=i,this.render()}paste(){if(!this.state.clipboard.length)return this.alert();this.insert(this.state.clipboard.pop()),this.render()}toggleCursor(){this.state.prevCursor?(this.cursor=this.state.prevCursor,this.state.prevCursor=0):(this.state.prevCursor=this.cursor,this.cursor=0),this.render()}first(){this.cursor=0,this.render()}last(){this.cursor=this.input.length-1,this.render()}next(){let e=null!=this.initial?String(this.initial):"";if(!e||!e.startsWith(this.input))return this.alert();this.input=this.initial,this.cursor=this.initial.length,this.render()}prev(){if(!this.input)return this.alert();this.reset()}backward(){return this.left()}forward(){return this.right()}right(){return this.cursor>=this.input.length?this.alert():(this.moveCursor(1),this.render())}left(){return this.cursor<=0?this.alert():(this.moveCursor(-1),this.render())}isValue(e){return!!e}async format(e=this.value){let t=await this.resolve(this.initial,this.state);return this.state.submitted?this.styles.submitted(e||t):ye(this,{input:e,initial:t,pos:this.cursor})}async render(){let e=this.state.size,t=await this.prefix(),i=await this.separator(),r=[t,await this.message(),i].filter(Boolean).join(" ");this.state.prompt=r;let n=await this.header(),s=await this.format(),o=await this.error()||await this.hint(),a=await this.footer();o&&!s.includes(o)&&(s+=" "+o),r+=" "+s,this.clear(e),this.write([n,r,a].filter(Boolean).join("\n")),this.restore()}};const Ne=e=>(e=>e.filter((t,i)=>e.lastIndexOf(t)===i))(e).filter(Boolean);var Le=(e,t={},i="")=>{let r,n,{past:s=[],present:o=""}=t;switch(e){case"prev":case"undo":return r=s.slice(0,s.length-1),n=s[s.length-1]||"",{past:Ne([i,...r]),present:n};case"next":case"redo":return r=s.slice(1),n=s[0]||"",{past:Ne([...r,i]),present:n};case"save":return{past:Ne([...s,i]),present:""};case"remove":return n=Ne(s.filter(e=>e!==i)),o="",n.length&&(o=n.pop()),{past:n,present:o};default:throw new Error(`Invalid action: "${e}"`)}},je=class extends Pe{constructor(e){super(e);let t=this.options.history;if(t&&t.store){let e=t.values||this.initial;this.autosave=!!t.autosave,this.store=t.store,this.data=this.store.get("values")||{past:[],present:e},this.initial=this.data.present||this.data.past[this.data.past.length-1]}}completion(e){return this.store?(this.data=Le(e,this.data,this.input),this.data.present?(this.input=this.data.present,this.cursor=this.input.length,this.render()):this.alert()):this.alert()}altUp(){return this.completion("prev")}altDown(){return this.completion("next")}prev(){return this.save(),super.prev()}save(){this.store&&(this.data=Le("save",this.data,this.input),this.store.set("values",this.data))}submit(){return this.store&&!0===this.autosave&&this.save(),super.submit()}},$e=class extends Pe{format(){return""}},De=class extends Pe{constructor(e={}){super(e),this.sep=this.options.separator||/, */,this.initial=e.initial||""}split(e=this.value){return e?String(e).split(this.sep):[]}format(){return this.list.map(this.state.submitted?this.styles.primary:e=>e).join(", ")}async submit(e){let t=this.state.error||await this.validate(this.list,this.state);return!0!==t?(this.state.error=t,super.submit()):(this.value=this.list,super.submit())}get list(){return this.split()}},_e=class extends fe{constructor(e){super($({},e,{multiple:!0}))}},Be=class extends Pe{constructor(e={}){super($({style:"number"},e)),this.min=this.isValue(e.min)?this.toNumber(e.min):-Infinity,this.max=this.isValue(e.max)?this.toNumber(e.max):Infinity,this.delay=null!=e.delay?e.delay:1e3,this.float=!1!==e.float,this.round=!0===e.round||!1===e.float,this.major=e.major||10,this.minor=e.minor||1,this.initial=null!=e.initial?e.initial:"",this.input=String(this.initial),this.cursor=this.input.length,this.cursorShow()}append(e){return!/[-+.]/.test(e)||"."===e&&this.input.includes(".")?this.alert("invalid number"):super.append(e)}number(e){return super.append(e)}next(){return this.input&&this.input!==this.initial?this.alert():this.isValue(this.initial)?(this.input=this.initial,this.cursor=String(this.initial).length,this.render()):this.alert()}up(e){let t=e||this.minor,i=this.toNumber(this.input);return i>this.max+t?this.alert():(this.input=`${i+t}`,this.render())}down(e){let t=e||this.minor,i=this.toNumber(this.input);return i<this.min-t?this.alert():(this.input=""+(i-t),this.render())}shiftDown(){return this.down(this.major)}shiftUp(){return this.up(this.major)}format(e=this.input){return"function"==typeof this.options.format?this.options.format.call(this,e):this.styles.info(e)}toNumber(e=""){return this.float?+e:Math.round(+e)}isValue(e){return/^[-+]?[0-9]+((\.)|(\.[0-9]+))?$/.test(e)}submit(){let e=[this.input,this.initial].find(e=>this.isValue(e));return this.value=this.toNumber(e||0),super.submit()}},Me=Be,Fe=class extends Pe{constructor(e){super(e),this.cursorShow()}format(e=this.input){return this.keypressed?(this.state.submitted?this.styles.primary:this.styles.muted)(this.symbols.asterisk.repeat(e.length)):""}},Ge=class extends pe{constructor(e={}){super(e),this.widths=[].concat(e.messageWidth||50),this.align=[].concat(e.align||"left"),this.linebreak=e.linebreak||!1,this.edgeLength=e.edgeLength||3,this.newline=e.newline||"\n   ";let t=e.startNumber||1;"number"==typeof this.scale&&(this.scaleKey=!1,this.scale=Array(this.scale).fill(0).map((e,i)=>({name:i+t})))}async reset(){return this.tableized=!1,await super.reset(),this.render()}tableize(){if(!0===this.tableized)return;this.tableized=!0;let e=0;for(let t of this.choices){e=Math.max(e,t.message.length),t.scaleIndex=t.initial||2,t.scale=[];for(let e=0;e<this.scale.length;e++)t.scale.push({index:e})}this.widths[0]=Math.min(this.widths[0],e+3)}async dispatch(e,t){if(this.multiple)return this[t.name]?await this[t.name](e,t):await super.dispatch(e,t);this.alert()}heading(e,t,i){return this.styles.strong(e)}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIndex>=this.scale.length-1?this.alert():(e.scaleIndex++,this.render())}left(){let e=this.focused;return e.scaleIndex<=0?this.alert():(e.scaleIndex--,this.render())}indent(){return""}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.index)).join(", "):""}pointer(){return""}renderScaleKey(){return!1===this.scaleKey||this.state.submitted?"":["",...this.scale.map(e=>`   ${e.name} - ${e.message}`)].map(e=>this.styles.muted(e)).join("\n")}renderScaleHeading(e){let t=this.scale.map(e=>e.name);"function"==typeof this.options.renderScaleHeading&&(t=this.options.renderScaleHeading.call(this,e));let i=this.scaleLength-t.join("").length,r=Math.round(i/(t.length-1)),n=t.map(e=>this.styles.strong(e)).join(" ".repeat(r)),s=" ".repeat(this.widths[0]);return this.margin[3]+s+this.margin[1]+n}scaleIndicator(e,t,i){if("function"==typeof this.options.scaleIndicator)return this.options.scaleIndicator.call(this,e,t,i);let r=e.scaleIndex===t.index;return t.disabled?this.styles.hint(this.symbols.radio.disabled):r?this.styles.success(this.symbols.radio.on):this.symbols.radio.off}renderScale(e,t){return e.scale.map(i=>this.scaleIndicator(e,i,t)).join(("Hyper"===this.term?"":" ")+this.symbols.line.repeat(this.edgeLength))}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,r=await this.pointer(e,t),n=await e.hint;n&&!U.hasColor(n)&&(n=this.styles.muted(n));let s=e=>this.margin[3]+e.replace(/\s+$/,"").padEnd(this.widths[0]," "),o=this.newline,a=this.indent(e),l=await this.resolve(e.message,this.state,e,t),c=await this.renderScale(e,t),u=this.margin[1]+this.margin[3];this.scaleLength=G.unstyle(c).length,this.widths[0]=Math.min(this.widths[0],this.width-this.scaleLength-u.length);let h=U.wordWrap(l,{width:this.widths[0],newline:o}).split("\n").map(e=>s(e)+this.margin[1]);return i&&(c=this.styles.info(c),h=h.map(e=>this.styles.info(e))),h[0]+=c,this.linebreak&&h.push(""),[a+r,h.join("\n")].filter(Boolean)}async renderChoices(){if(this.state.submitted)return"";this.tableize();let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e),i=await this.renderScaleHeading();return this.margin[0]+[i,...t.map(e=>e.join(" "))].join("\n")}async render(){let{submitted:e,size:t}=this.state,i=await this.prefix(),r=await this.separator(),n=await this.message(),s="";!1!==this.options.promptLine&&(s=[i,n,r,""].join(" "),this.state.prompt=s);let o=await this.header(),a=await this.format(),l=await this.renderScaleKey(),c=await this.error()||await this.hint(),u=await this.renderChoices(),h=await this.footer(),d=this.emptyError;a&&(s+=a),c&&!s.includes(c)&&(s+=" "+c),e&&!a&&!u.trim()&&this.multiple&&null!=d&&(s+=this.styles.danger(d)),this.clear(t),this.write([o,s,l,u,h].filter(Boolean).join("\n")),this.state.submitted||this.write(this.margin[2]),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIndex;return this.base.submit.call(this)}};class Ue{constructor(e){this.name=e.key,this.field=e.field||{},this.value=((e="")=>"string"==typeof e?e.replace(/^['"]|['"]$/g,""):"")(e.initial||this.field.initial||""),this.message=e.message||this.name,this.cursor=0,this.input="",this.lines=[]}}function qe(e,t,i,r){return(i,n,s,o)=>"function"==typeof s.field[e]?s.field[e].call(t,i,n,s,o):[r,i].find(e=>t.isValue(e))}var ze=class extends se{constructor(e){super(e),this.cursorHide(),this.reset(!0)}async initialize(){this.interpolate=await(async e=>{let t=e.options,i=new Set(!0===t.required?[]:t.required||[]),r=$({},t.values,t.initial),{tabstops:n,items:s,keys:o}=await(async(e={},t={},i=(e=>e))=>{let r=new Set,n=e.fields||[],s=e.template,o=[],a=[],l=[],c=1;"function"==typeof s&&(s=await s());let u=-1,h=()=>s[++u],d=()=>s[u+1],p=e=>{e.line=c,o.push(e)};for(p({type:"bos",value:""});u<s.length-1;){let e=h();if(/^[^\S\n ]$/.test(e)){p({type:"text",value:e});continue}if("\n"===e){p({type:"newline",value:e}),c++;continue}if("\\"===e){e+=h(),p({type:"text",value:e});continue}if(("$"===e||"#"===e||"{"===e)&&"{"===d()){e+=h();let s,o={type:"template",open:e,inner:"",close:"",value:e};for(;s=h();){if("}"===s){"}"===d()&&(s+=h()),o.value+=s,o.close=s;break}":"===s?(o.initial="",o.key=o.inner):void 0!==o.initial&&(o.initial+=s),o.value+=s,o.inner+=s}o.template=o.open+(o.initial||o.inner)+o.close,o.key=o.key||o.inner,t.hasOwnProperty(o.key)&&(o.initial=t[o.key]),o=i(o),p(o),l.push(o.key),r.add(o.key);let c=a.find(e=>e.name===o.key);o.field=n.find(e=>e.name===o.key),c||(c=new Ue(o),a.push(c)),c.lines.push(o.line-1);continue}let s=o[o.length-1];"text"===s.type&&s.line===c?s.value+=e:p({type:"text",value:e})}return p({type:"eos",value:""}),{input:s,tabstops:o,unique:r,keys:l,items:a}})(t,r),a=qe("result",e),l=qe("format",e),c=qe("validate",e,0,!0),u=e.isValue.bind(e);return async(r={},h=!1)=>{let d=0;r.required=i,r.items=s,r.keys=o,r.output="";let p=async(e,t,i,r)=>{let n=await c(e,t,i,r);return!1===n?"Invalid field "+i.name:n};for(let i of n){let n=i.value,o=i.key;if("template"===i.type){if("template"===i.type){let c=s.find(e=>e.name===o);!0===t.required&&r.required.add(c.name);let f=[c.input,r.values[c.value],c.value,n].find(u),m=(c.field||{}).message||i.inner;if(h){let e=await p(r.values[o],r,c,d);if(e&&"string"==typeof e||!1===e){r.invalid.set(o,e);continue}r.invalid.delete(o);let t=await a(r.values[o],r,c,d);r.output+=G.unstyle(t);continue}c.placeholder=!1;let y=n;n=await l(n,r,c,d),f!==n?(r.values[o]=f,n=e.styles.typing(f),r.missing.delete(m)):(r.values[o]=void 0,f=`<${m}>`,n=e.styles.primary(f),c.placeholder=!0,r.required.has(o)&&r.missing.add(m)),r.missing.has(m)&&r.validating&&(n=e.styles.warning(f)),r.invalid.has(o)&&r.validating&&(n=e.styles.danger(f)),d===r.index&&(n=y!==n?e.styles.underline(n):e.styles.heading(G.unstyle(n))),d++}n&&(r.output+=n)}else n&&(r.output+=n)}let f=r.output.split("\n").map(e=>" "+e),m=s.length,y=0;for(let t of s)r.invalid.has(t.name)&&t.lines.forEach(e=>{" "===f[e][0]&&(f[e]=r.styles.danger(r.symbols.bullet)+f[e].slice(1))}),e.isValue(r.values[t.name])&&y++;return r.completed=(y/m*100).toFixed(0),r.output=f.join("\n"),r.output}})(this),await super.initialize()}async reset(e){this.state.keys=[],this.state.invalid=new Map,this.state.missing=new Set,this.state.completed=0,this.state.values={},!0!==e&&(await this.initialize(),await this.render())}moveCursor(e){let t=this.getItem();this.cursor+=e,t.cursor+=e}dispatch(e,t){t.code||t.ctrl||null==e||!this.getItem()?this.alert():this.append(e,t)}append(e,t){let i=this.getItem(),r=i.input.slice(0,this.cursor),n=i.input.slice(this.cursor);this.input=i.input=`${r}${e}${n}`,this.moveCursor(1),this.render()}delete(){let e=this.getItem();if(this.cursor<=0||!e.input)return this.alert();let t=e.input.slice(this.cursor),i=e.input.slice(0,this.cursor-1);this.input=e.input=`${i}${t}`,this.moveCursor(-1),this.render()}increment(e){return e>=this.state.keys.length-1?0:e+1}decrement(e){return e<=0?this.state.keys.length-1:e-1}first(){this.state.index=0,this.render()}last(){this.state.index=this.state.keys.length-1,this.render()}right(){if(this.cursor>=this.input.length)return this.alert();this.moveCursor(1),this.render()}left(){if(this.cursor<=0)return this.alert();this.moveCursor(-1),this.render()}prev(){this.state.index=this.decrement(this.state.index),this.getItem(),this.render()}next(){this.state.index=this.increment(this.state.index),this.getItem(),this.render()}up(){this.prev()}down(){this.next()}format(e){let t=this.state.completed<100?this.styles.warning:this.styles.success;return!0===this.state.submitted&&100!==this.state.completed&&(t=this.styles.danger),t(`${this.state.completed}% completed`)}async render(){let{index:e,keys:t=[],submitted:i,size:r}=this.state,n=[this.options.newline,"\n"].find(e=>null!=e),s=await this.prefix(),o=await this.separator(),a=[s,await this.message(),o].filter(Boolean).join(" ");this.state.prompt=a;let l=await this.header(),c=await this.error()||"",u=await this.hint()||"",h=i?"":await this.interpolate(this.state),d=this.state.key=t[e]||"",p=await this.format(d),f=await this.footer();p&&(a+=" "+p),u&&!p&&0===this.state.completed&&(a+=" "+u),this.clear(r);let m=[l,a,h,f,c.trim()];this.write(m.filter(Boolean).join(n)),this.restore()}getItem(e){let{items:t,keys:i,index:r}=this.state,n=t.find(e=>e.name===i[r]);return n&&null!=n.input&&(this.input=n.input,this.cursor=n.cursor),n}async submit(){"function"!=typeof this.interpolate&&await this.initialize(),await this.interpolate(this.state,!0);let{invalid:e,missing:t,output:i,values:r}=this.state;if(e.size){let t="";for(let[i,r]of e)t+=`Invalid ${i}: ${r}\n`;return this.state.error=t,super.submit()}if(t.size)return this.state.error="Required: "+[...t.keys()].join(", "),super.submit();let n=G.unstyle(i).split("\n").map(e=>e.slice(1)).join("\n");return this.value={values:r,result:n},super.submit()}};const He="(Use <shift>+<up/down> to sort)";var Ve=class extends fe{constructor(e){super($({},e,{reorder:!1,sort:!0,multiple:!0})),this.state.hint=[this.options.hint,He].find(this.isValue.bind(this))}indicator(){return""}async renderChoice(e,t){let i=await super.renderChoice(e,t),r=this.index===t&&this.sorting?this.styles.muted(this.symbols.identicalTo+" "):"  ";return!1===this.options.drag&&(r=""),!0===this.options.numbered?r+`${t+1} - `+i:r+i}get selected(){return this.choices}submit(){return this.value=this.choices.map(e=>e.value),super.submit()}};function Ye(e,t={}){if(Array.isArray(t.scale))return t.scale.map(e=>$({},e));let i=[];for(let t=1;t<e+1;t++)i.push({i:t,selected:!1});return i}var Xe=class extends pe{constructor(e={}){if(super(e),this.emptyError=e.emptyError||"No items were selected",this.term=process.env.TERM_PROGRAM,!this.options.header){let e=["","4 - Strongly Agree","3 - Agree","2 - Neutral","1 - Disagree","0 - Strongly Disagree",""];e=e.map(e=>this.styles.muted(e)),this.state.header=e.join("\n   ")}}async toChoices(...e){if(this.createdScales)return!1;this.createdScales=!0;let t=await super.toChoices(...e);for(let e of t)e.scale=Ye(5,this.options),e.scaleIdx=2;return t}dispatch(){this.alert()}space(){let e=this.focused,t=e.scale[e.scaleIdx],i=t.selected;return e.scale.forEach(e=>e.selected=!1),t.selected=!i,this.render()}indicator(){return""}pointer(){return""}separator(){return this.styles.muted(this.symbols.ellipsis)}right(){let e=this.focused;return e.scaleIdx>=e.scale.length-1?this.alert():(e.scaleIdx++,this.render())}left(){let e=this.focused;return e.scaleIdx<=0?this.alert():(e.scaleIdx--,this.render())}indent(){return"   "}async renderChoice(e,t){await this.onChoice(e,t);let i=this.index===t,r="Hyper"===this.term,n=r?9:8,s=r?"":" ",o=this.symbols.line.repeat(n),a=" ".repeat(n+(r?0:1)),l=e=>(e?this.styles.success("‚óâ"):"‚óØ")+s,c=t+1+".",u=i?this.styles.heading:this.styles.noop,h=await this.resolve(e.message,this.state,e,t),d=this.indent(e),p=d+e.scale.map((t,i)=>l(i===e.scaleIdx)).join(o),f=d+e.scale.map((t,i)=>(t=>t===e.scaleIdx?u(t):t)(i)).join(a);return i&&(p=this.styles.cyan(p),f=this.styles.cyan(f)),[[c,h].filter(Boolean).join(" "),p,f," "].filter(Boolean).join("\n")}async renderChoices(){if(this.state.submitted)return"";let e=this.visible.map(async(e,t)=>await this.renderChoice(e,t)),t=await Promise.all(e);return t.length||t.push(this.styles.danger("No matching choices")),t.join("\n")}format(){return this.state.submitted?this.choices.map(e=>this.styles.info(e.scaleIdx)).join(", "):""}async render(){let{submitted:e,size:t}=this.state,i=await this.prefix(),r=await this.separator(),n=[i,await this.message(),r].filter(Boolean).join(" ");this.state.prompt=n;let s=await this.header(),o=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),c=await this.footer();!o&&a||(n+=" "+o),a&&!n.includes(a)&&(n+=" "+a),e&&!o&&!l&&this.multiple&&"form"!==this.type&&(n+=this.styles.danger(this.emptyError)),this.clear(t),this.write([n,s,l,c].filter(Boolean).join("\n")),this.restore()}submit(){this.value={};for(let e of this.choices)this.value[e.name]=e.scaleIdx;return this.base.submit.call(this)}},We=je,Ke=class extends Te{async initialize(){await super.initialize(),this.value=this.initial=!!this.options.initial,this.disabled=this.options.disabled||"no",this.enabled=this.options.enabled||"yes",await this.render()}reset(){this.value=this.initial,this.render()}delete(){this.alert()}toggle(){this.value=!this.value,this.render()}enable(){if(!0===this.value)return this.alert();this.value=!0,this.render()}disable(){if(!1===this.value)return this.alert();this.value=!1,this.render()}up(){this.toggle()}down(){this.toggle()}right(){this.toggle()}left(){this.toggle()}next(){this.toggle()}prev(){this.toggle()}dispatch(e="",t){switch(e.toLowerCase()){case" ":return this.toggle();case"1":case"y":case"t":return this.enable();case"0":case"n":case"f":return this.disable();default:return this.alert()}}format(){let e=e=>this.styles.primary.underline(e);return[this.value?this.disabled:e(this.disabled),this.value?e(this.enabled):this.enabled].join(this.styles.muted(" / "))}async render(){let{size:e}=this.state,t=await this.header(),i=await this.prefix(),r=await this.separator(),n=await this.message(),s=await this.format(),o=await this.error()||await this.hint(),a=await this.footer(),l=[i,n,r,s].join(" ");this.state.prompt=l,o&&!l.includes(o)&&(l+=" "+o),this.clear(e),this.write([t,l,a].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}},Je=class extends fe{constructor(e){if(super(e),"number"!=typeof this.options.correctChoice||this.options.correctChoice<0)throw new Error("Please specify the index of the correct answer from the list of choices")}async toChoices(e,t){let i=await super.toChoices(e,t);if(i.length<2)throw new Error("Please give at least two choices to the user");if(this.options.correctChoice>i.length)throw new Error("Please specify the index of the correct answer from the list of choices");return i}check(e){return e.index===this.options.correctChoice}async result(e){return{selectedAnswer:e,correctAnswer:this.options.choices[this.options.correctChoice].value,correct:await this.check(this.state)}}},Ze=_(function(e,t){const i=(e,i)=>{U.defineExport(t,e,i),U.defineExport(t,e.toLowerCase(),i)};i("AutoComplete",()=>me),i("BasicAuth",()=>Ie),i("Confirm",()=>Ce),i("Editable",()=>Ae),i("Form",()=>ge),i("Input",()=>je),i("Invisible",()=>$e),i("List",()=>De),i("MultiSelect",()=>_e),i("Numeral",()=>Me),i("Password",()=>Fe),i("Scale",()=>Ge),i("Select",()=>fe),i("Snippet",()=>ze),i("Sort",()=>Ve),i("Survey",()=>Xe),i("Text",()=>We),i("Toggle",()=>Ke),i("Quiz",()=>Je)}),Qe={ArrayPrompt:pe,AuthPrompt:ve,BooleanPrompt:Te,NumberPrompt:Be,StringPrompt:Pe};class et extends b.default{constructor(e,t){super(),this.options=U.merge({},e),this.answers=$({},t)}register(e,t){if(U.isObject(e)){for(let t of Object.keys(e))this.register(t,e[t]);return this}w.default.equal(typeof t,"function","expected a function");let i=e.toLowerCase();return this.prompts[i]=t.prototype instanceof this.Prompt?t:t(this.Prompt,this),this}async prompt(e=[]){for(let t of[].concat(e))try{"function"==typeof t&&(t=await t.call(this)),await this.ask(U.merge({},this.options,t))}catch(e){return Promise.reject(e)}return this.answers}async ask(e){"function"==typeof e&&(e=await e.call(this));let t=U.merge({},this.options,e),{type:i,name:r}=e,{set:n,get:s}=U;if("function"==typeof i&&(i=await i.call(this,e,this.answers)),!i)return this.answers[r];w.default(this.prompts[i],`Prompt "${i}" is not registered`);let o=new this.prompts[i](t),a=s(this.answers,r);o.state.answers=this.answers,o.enquirer=this,r&&o.on("submit",e=>{this.emit("answer",r,e,o),n(this.answers,r,e)});let l=o.emit.bind(o);return o.emit=(...e)=>(this.emit.call(this,...e),l(...e)),this.emit("prompt",o,this),t.autofill&&null!=a?(o.value=o.input=a,"show"===t.autofill&&await o.submit()):a=o.value=await o.run(),a}use(e){return e.call(this,this),this}set Prompt(e){this._Prompt=e}get Prompt(){return this._Prompt||this.constructor.Prompt}get prompts(){return this.constructor.prompts}static set Prompt(e){this._Prompt=e}static get Prompt(){return this._Prompt||se}static get prompts(){return Ze}static get types(){return Qe}static get prompt(){const e=(t,...i)=>{let r=new this(...i),n=r.emit.bind(r);return r.emit=(...t)=>(e.emit(...t),n(...t)),r.prompt(t)};return U.mixinEmitter(e,new b.default),e}}U.mixinEmitter(et,new b.default);const tt=et.prompts;for(let e of Object.keys(tt)){let t=e.toLowerCase(),i=t=>new tt[e](t).run();et.prompt[t]=i,et[t]=i,et[e]||Reflect.defineProperty(et,e,{get:()=>tt[e]})}const it=e=>{U.defineExport(et,e,()=>et.types[e])};it("ArrayPrompt"),it("AuthPrompt"),it("BooleanPrompt"),it("NumberPrompt"),it("StringPrompt");var rt=et,nt={"gatsby-source-wordpress":{message:"WordPress"},"gatsby-source-contentful":{message:"Contentful"},"gatsby-source-sanity":{message:"Sanity"},"gatsby-source-datocms":{message:"DatoCMS"},"gatsby-source-shopify":{message:"Shopify"},"gatsby-plugin-netlify-cms":{message:"Netlify CMS",dependencies:["netlify-cms-app"]}},st={"gatsby-plugin-sass":{message:"Sass",dependencies:["sass"]},"gatsby-plugin-styled-components":{message:"styled-components",dependencies:["styled-components","babel-plugin-styled-components"]},"gatsby-plugin-emotion":{message:"Emotion",dependencies:["@emotion/react","@emotion/styled"]},"gatsby-plugin-postcss":{message:"PostCSS",dependencies:["postcss"]},"gatsby-plugin-theme-ui":{message:"Theme UI",dependencies:["theme-ui"]}},ot={"gatsby-plugin-image":{message:"Add responsive images",plugins:["gatsby-plugin-sharp","gatsby-transformer-sharp","gatsby-source-filesystem:images"],options:{"gatsby-source-filesystem:images":{name:"images",path:"./src/images/"}}},"gatsby-plugin-google-analytics":{message:"Add the Google Analytics tracking script"},"gatsby-plugin-react-helmet":{message:"Add page meta tags with React Helmet",dependencies:["react-helmet"]},"gatsby-plugin-sitemap":{message:"Add an automatic sitemap"},"gatsby-plugin-manifest":{message:"Generate a manifest file",options:{"gatsby-plugin-manifest":{icon:"src/images/icon.png"}}},"gatsby-transformer-remark":{message:"Add Markdown support (without MDX)",plugins:["gatsby-source-filesystem:pages"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}},"gatsby-plugin-mdx":{message:"Add Markdown and MDX support",plugins:["gatsby-source-filesystem:pages"],dependencies:["@mdx-js/react","@mdx-js/mdx"],options:{"gatsby-source-filesystem:pages":{name:"pages",path:"./src/pages/"}}}},at=ct;function lt(e,t,i){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var i=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!i)return!0;if(-1!==(i=i.split(";")).indexOf(""))return!0;for(var r=0;r<i.length;r++){var n=i[r].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}(t,i)}function ct(e,t,i){I.default.stat(e,function(r,n){i(r,!r&&lt(n,e,t))})}ct.sync=function(e,t){return lt(I.default.statSync(e),e,t)};var ut,ht=dt;function dt(e,t,i){I.default.stat(e,function(e,r){i(e,!e&&pt(r,t))})}function pt(e,t){return e.isFile()&&function(e,t){var i=e.mode,r=e.uid,n=e.gid,s=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),o=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),l=parseInt("010",8);return i&parseInt("001",8)||i&l&&n===o||i&a&&r===s||i&(a|l)&&0===s}(e,t)}dt.sync=function(e,t){return pt(I.default.statSync(e),t)},ut="win32"===process.platform||D.TESTING_WINDOWS?at:ht;var ft=mt;function mt(e,t,i){if("function"==typeof t&&(i=t,t={}),!i){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise(function(i,r){mt(e,t||{},function(e,t){e?r(e):i(t)})})}ut(e,t||{},function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),i(e,r)})}mt.sync=function(e,t){try{return ut.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}};const yt="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,gt=yt?";":":",wt=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),bt=(e,t)=>{const i=t.colon||gt,r=e.match(/\//)||yt&&e.match(/\\/)?[""]:[...yt?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(i)],n=yt?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",s=yt?n.split(i):[""];return yt&&-1!==e.indexOf(".")&&""!==s[0]&&s.unshift(""),{pathEnv:r,pathExt:s,pathExtExe:n}},vt=(e,t,i)=>{"function"==typeof t&&(i=t,t={}),t||(t={});const{pathEnv:r,pathExt:n,pathExtExe:s}=bt(e,t),o=[],a=i=>new Promise((n,s)=>{if(i===r.length)return t.all&&o.length?n(o):s(wt(e));const a=r[i],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=S.default.join(c,e),h=!c&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;n(l(h,i,0))}),l=(e,i,r)=>new Promise((c,u)=>{if(r===n.length)return c(a(i+1));const h=n[r];ft(e+h,{pathExt:s},(n,s)=>{if(!n&&s){if(!t.all)return c(e+h);o.push(e+h)}return c(l(e,i,r+1))})});return i?a(0).then(e=>i(null,e),i):a(0)};var Et=vt;vt.sync=(e,t)=>{t=t||{};const{pathEnv:i,pathExt:r,pathExtExe:n}=bt(e,t),s=[];for(let o=0;o<i.length;o++){const a=i[o],l=/^".*"$/.test(a)?a.slice(1,-1):a,c=S.default.join(l,e),u=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+c:c;for(let e=0;e<r.length;e++){const i=u+r[e];try{if(ft.sync(i,{pathExt:n})){if(!t.all)return i;s.push(i)}}catch(e){}}}if(t.all&&s.length)return s;if(t.nothrow)return null;throw wt(e)};const St=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};var It=St;function Ot(e,t){const i=e.options.env||process.env,r=process.cwd(),n=null!=e.options.cwd,s=n&&void 0!==process.chdir&&!process.chdir.disabled;if(s)try{process.chdir(e.options.cwd)}catch(e){}let o;try{o=Et.sync(e.command,{path:i[It({env:i})],pathExt:t?S.default.delimiter:void 0})}catch(e){}finally{s&&process.chdir(r)}return o&&(o=S.default.resolve(n?e.options.cwd:"",o)),o}It.default=St;var xt=function(e){return Ot(e)||Ot(e,!0)};const Tt=/([()\][%!^"`<>&|;, *?])/g;var Ct=/^#!(.*)/;const Rt="win32"===process.platform,At=/\.(?:com|exe)$/i,kt=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;var Pt=function(e,t,i){t&&!Array.isArray(t)&&(i=t,t=null);const r={command:e,args:t=t?t.slice(0):[],options:i=Object.assign({},i),file:void 0,original:{command:e,args:t}};return i.shell?r:function(e){if(!Rt)return e;const t=function(e){e.file=xt(e);const t=e.file&&function(e){const t=Buffer.alloc(150);let i;try{i=I.default.openSync(e,"r"),I.default.readSync(i,t,0,150,0),I.default.closeSync(i)}catch(e){}return((e="")=>{const t=e.match(Ct);if(!t)return null;const[i,r]=t[0].replace(/#! ?/,"").split(" "),n=i.split("/").pop();return"env"===n?r:r?`${n} ${r}`:n})(t.toString())}(e.file);return t?(e.args.unshift(e.file),e.command=t,xt(e)):e.file}(e),i=!At.test(t);if(e.options.forceShell||i){const i=kt.test(t);e.command=S.default.normalize(e.command),e.command=e.command.replace(Tt,"^$1"),e.args=e.args.map(e=>function(e,t){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(Tt,"^$1"),t&&(e=e.replace(Tt,"^$1")),e}(e,i));const r=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${r}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(r)};const Nt="win32"===process.platform;function Lt(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function jt(e,t){return Nt&&1===e&&!t.file?Lt(t.original,"spawn"):null}var $t={hookChildProcess:function(e,t){if(!Nt)return;const i=e.emit;e.emit=function(r,n){if("exit"===r){const r=jt(n,t);if(r)return i.call(e,"error",r)}return i.apply(e,arguments)}},verifyENOENT:jt,verifyENOENTSync:function(e,t){return Nt&&1===e&&!t.file?Lt(t.original,"spawnSync"):null},notFoundError:Lt};function Dt(e,t,i){const r=Pt(e,t,i),n=E.default.spawn(r.command,r.args,r.options);return $t.hookChildProcess(n,r),n}var _t=Dt,Bt=Pt,Mt=$t;_t.spawn=Dt,_t.sync=function(e,t,i){const r=Pt(e,t,i),n=E.default.spawnSync(r.command,r.args,r.options);return n.error=n.error||$t.verifyENOENTSync(n.status,r),n},_t._parse=Bt,_t._enoent=Mt;const Ft=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find(e=>"PATH"===e.toUpperCase())||"Path"};var Gt=Ft;Gt.default=Ft;var Ut=_(function(e){const t=e=>{let t;e={cwd:process.cwd(),path:process.env[Gt()],execPath:process.execPath,...e};let i=S.default.resolve(e.cwd);const r=[];for(;t!==i;)r.push(S.default.join(i,"node_modules/.bin")),t=i,i=S.default.resolve(i,"..");const n=S.default.resolve(e.cwd,e.execPath,"..");return r.push(n),r.concat(e.path).join(S.default.delimiter)};e.exports=t,e.exports.default=t,e.exports.env=t=>{const i={...(t={env:process.env,...t}).env},r=Gt({env:i});return t.path=i[r],i[r]=e.exports(t),i}});const qt=(e,t)=>{for(const i of Reflect.ownKeys(t))Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i));return e};var zt=qt;zt.default=qt;const Ht=new WeakMap,Vt=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let i,r=0;const n=e.displayName||e.name||"<anonymous>",s=function(...o){if(Ht.set(s,++r),1===r)i=e.apply(this,o),e=null;else if(!0===t.throw)throw new Error(`Function \`${n}\` can only be called once`);return i};return zt(s,e),Ht.set(s,r),s};var Yt=Vt;Yt.default=Vt,Yt.callCount=e=>{if(!Ht.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return Ht.get(e)};var Xt=_(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGNALS=void 0,t.SIGNALS=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}]}),Wt=_(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SIGRTMAX=t.getRealtimeSignals=void 0,t.getRealtimeSignals=function(){return Array.from({length:n-r+1},i)};const i=function(e,t){return{name:`SIGRT${t+1}`,number:r+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},r=34,n=64;t.SIGRTMAX=n}),Kt=_(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getSignals=void 0,t.getSignals=function(){const e=(0,Wt.getRealtimeSignals)();return[...Xt.SIGNALS,...e].map(i)};const i=function({name:e,number:t,description:i,action:r,forced:n=!1,standard:s}){const{signals:{[e]:o}}=O.default.constants,a=void 0!==o;return{name:e,number:a?o:t,description:i,supported:a,action:r,forced:n,standard:s}}}),Jt=_(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.signalsByNumber=t.signalsByName=void 0;const i=(0,Kt.getSignals)().reduce(function(e,{name:t,number:i,description:r,supported:n,action:s,forced:o,standard:a}){return{...e,[t]:{name:t,number:i,description:r,supported:n,action:s,forced:o,standard:a}}},{});t.signalsByName=i;const r=function(){const e=(0,Kt.getSignals)(),t=Array.from({length:Wt.SIGRTMAX+1},(t,i)=>function(e,t){const i=function(e,t){const i=t.find(({name:t})=>O.default.constants.signals[t]===e);return void 0!==i?i:t.find(t=>t.number===e)}(e,t);if(void 0===i)return{};const{name:r,description:n,supported:s,action:o,forced:a,standard:l}=i;return{[e]:{name:r,number:e,description:n,supported:s,action:o,forced:a,standard:l}}}(i,e));return Object.assign({},...t)}();t.signalsByNumber=r});const{signalsByName:Zt}=Jt;var Qt=({stdout:e,stderr:t,all:i,error:r,signal:n,exitCode:s,command:o,escapedCommand:a,timedOut:l,isCanceled:c,killed:u,parsed:{options:{timeout:h}}})=>{const d=void 0===(n=null===n?void 0:n)?void 0:Zt[n].description,p=`Command ${(({timedOut:e,timeout:t,errorCode:i,signal:r,signalDescription:n,exitCode:s,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":void 0!==i?`failed with ${i}`:void 0!==r?`was killed with ${r} (${n})`:void 0!==s?`failed with exit code ${s}`:"failed")({timedOut:l,timeout:h,errorCode:r&&r.code,signal:n,signalDescription:d,exitCode:s=null===s?void 0:s,isCanceled:c})}: ${o}`,f="[object Error]"===Object.prototype.toString.call(r),m=f?`${p}\n${r.message}`:p,y=[m,t,e].filter(Boolean).join("\n");return f?(r.originalMessage=r.message,r.message=y):r=new Error(y),r.shortMessage=m,r.command=o,r.escapedCommand=a,r.exitCode=s,r.signal=n,r.signalDescription=d,r.stdout=e,r.stderr=t,void 0!==i&&(r.all=i),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=Boolean(l),r.isCanceled=c,r.killed=u&&!l,r};const ei=["stdin","stdout","stderr"],ti=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return ei.map(t=>e[t]);if((e=>ei.some(t=>void 0!==e[t]))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ei.map(e=>`\`${e}\``).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const i=Math.max(t.length,ei.length);return Array.from({length:i},(e,i)=>t[i])};var ii=ti;ii.node=e=>{const t=ti(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var ri,ni=_(function(e){e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")}),si=/^win/i.test(process.platform),oi=b.default;"function"!=typeof oi&&(oi=oi.EventEmitter),process.__signal_exit_emitter__?ri=process.__signal_exit_emitter__:((ri=process.__signal_exit_emitter__=new oi).count=0,ri.emitted={}),ri.infinite||(ri.setMaxListeners(Infinity),ri.infinite=!0);var ai=function(e,t){w.default.equal(typeof e,"function","a callback must be provided for exit handler"),!1===pi&&fi();var i="exit";return t&&t.alwaysLast&&(i="afterexit"),ri.on(i,e),function(){ri.removeListener(i,e),0===ri.listeners("exit").length&&0===ri.listeners("afterexit").length&&ci()}},li=ci;function ci(){pi&&(pi=!1,ni.forEach(function(e){try{process.removeListener(e,hi[e])}catch(e){}}),process.emit=gi,process.reallyExit=mi,ri.count-=1)}function ui(e,t,i){ri.emitted[e]||(ri.emitted[e]=!0,ri.emit(e,t,i))}var hi={};ni.forEach(function(e){hi[e]=function(){process.listeners(e).length===ri.count&&(ci(),ui("exit",null,e),ui("afterexit",null,e),si&&"SIGHUP"===e&&(e="SIGINT"),process.kill(process.pid,e))}});var di=fi,pi=!1;function fi(){pi||(pi=!0,ri.count+=1,ni=ni.filter(function(e){try{return process.on(e,hi[e]),!0}catch(e){return!1}}),process.emit=wi,process.reallyExit=yi)}var mi=process.reallyExit;function yi(e){process.exitCode=e||0,ui("exit",process.exitCode,null),ui("afterexit",process.exitCode,null),mi.call(process,process.exitCode)}var gi=process.emit;function wi(e,t){if("exit"===e){void 0!==t&&(process.exitCode=t);var i=gi.apply(this,arguments);return ui("exit",process.exitCode,null),ui("afterexit",process.exitCode,null),i}return gi.apply(this,arguments)}ai.unload=li,ai.signals=function(){return ni},ai.load=di;var bi={spawnedKill:(e,t="SIGTERM",i={})=>{const r=e(t);return((e,t,i,r)=>{if(!((e,{forceKillAfterTimeout:t},i)=>(e=>e===O.default.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase())(e)&&!1!==t&&i)(t,i,r))return;const n=(({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e})(i),s=setTimeout(()=>{e("SIGKILL")},n);s.unref&&s.unref()})(e,t,i,r),r},spawnedCancel:(e,t)=>{e.kill()&&(t.isCanceled=!0)},setupTimeout:(e,{timeout:t,killSignal:i="SIGTERM"},r)=>{if(0===t||void 0===t)return r;let n;const s=new Promise((r,s)=>{n=setTimeout(()=>{((e,t,i)=>{e.kill(t),i(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,i,s)},t)}),o=r.finally(()=>{clearTimeout(n)});return Promise.race([s,o])},validateTimeout:({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},setExitHandler:async(e,{cleanup:t,detached:i},r)=>{if(!t||i)return r;const n=ai(()=>{e.kill()});return r.finally(()=>{n()})}};const vi=e=>null!==e&&"object"==typeof e&&"function"==typeof e.pipe;vi.writable=e=>vi(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState,vi.readable=e=>vi(e)&&!1!==e.readable&&"function"==typeof e._read&&"object"==typeof e._readableState,vi.duplex=e=>vi.writable(e)&&vi.readable(e),vi.transform=e=>vi.duplex(e)&&"function"==typeof e._transform&&"object"==typeof e._transformState;var Ei=vi;const{PassThrough:Si}=T.default,{constants:Ii}=x.default,{promisify:Oi}=C.default,xi=Oi(T.default.pipeline);class Ti extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function Ci(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:Infinity,...t};const{maxBuffer:i}=t,r=(e=>{e={...e};const{array:t}=e;let{encoding:i}=e;const r="buffer"===i;let n=!1;t?n=!(i||r):i=i||"utf8",r&&(i=null);const s=new Si({objectMode:n});i&&s.setEncoding(i);let o=0;const a=[];return s.on("data",e=>{a.push(e),n?o=a.length:o+=e.length}),s.getBufferedValue=()=>t?a:r?Buffer.concat(a,o):a.join(""),s.getBufferedLength=()=>o,s})(t);return await new Promise((t,n)=>{const s=e=>{e&&r.getBufferedLength()<=Ii.MAX_LENGTH&&(e.bufferedData=r.getBufferedValue()),n(e)};(async()=>{try{await xi(e,r),t()}catch(e){s(e)}})(),r.on("data",()=>{r.getBufferedLength()>i&&s(new Ti)})}),r.getBufferedValue()}var Ri=Ci,Ai=Ti;Ri.buffer=(e,t)=>Ci(e,{...t,encoding:"buffer"}),Ri.array=(e,t)=>Ci(e,{...t,array:!0}),Ri.MaxBufferError=Ai;const{PassThrough:ki}=T.default,Pi=async(e,t)=>{if(e){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Ni=(e,{encoding:t,buffer:i,maxBuffer:r})=>{if(e&&i)return t?Ri(e,{encoding:t,maxBuffer:r}):Ri.buffer(e,{maxBuffer:r})};var Li={handleInput:(e,t)=>{void 0!==t&&void 0!==e.stdin&&(Ei(t)?t.pipe(e.stdin):e.stdin.end(t))},makeAllStream:(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const i=function(){var e=[],t=new ki({objectMode:!0});return t.setMaxListeners(0),t.add=i,t.isEmpty=r,t.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(i),t;function i(r){return Array.isArray(r)?(r.forEach(i),this):(e.push(r),r.once("end",n.bind(null,r)),r.once("error",t.emit.bind(t,"error")),r.pipe(t,{end:!1}),this)}function r(){return 0==e.length}function n(i){!(e=e.filter(function(e){return e!==i})).length&&t.readable&&t.end()}}();return e.stdout&&i.add(e.stdout),e.stderr&&i.add(e.stderr),i},getSpawnedResult:async({stdout:e,stderr:t,all:i},{encoding:r,buffer:n,maxBuffer:s},o)=>{const a=Ni(e,{encoding:r,buffer:n,maxBuffer:s}),l=Ni(t,{encoding:r,buffer:n,maxBuffer:s}),c=Ni(i,{encoding:r,buffer:n,maxBuffer:2*s});try{return await Promise.all([o,a,l,c])}catch(r){return Promise.all([{error:r,signal:r.signal,timedOut:r.timedOut},Pi(e,a),Pi(t,l),Pi(i,c)])}},validateInputSync:({input:e})=>{if(Ei(e))throw new TypeError("The `input` option cannot be a stream in sync mode")}};const ji=(async()=>{})().constructor.prototype,$i=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(ji,e)]);var Di={mergePromise:(e,t)=>{for(const[i,r]of $i){const n="function"==typeof t?(...e)=>Reflect.apply(r.value,t(),e):r.value.bind(t);Reflect.defineProperty(e,i,{...r,value:n})}return e},getSpawnedPromise:e=>new Promise((t,i)=>{e.on("exit",(e,i)=>{t({exitCode:e,signal:i})}),e.on("error",e=>{i(e)}),e.stdin&&e.stdin.on("error",e=>{i(e)})})};const _i=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Bi=/^[\w.-]+$/,Mi=/"/g,Fi=/ +/g;var Gi={joinCommand:(e,t)=>_i(e,t).join(" "),getEscapedCommand:(e,t)=>_i(e,t).map(e=>(e=>"string"!=typeof e||Bi.test(e)?e:`"${e.replace(Mi,'\\"')}"`)(e)).join(" "),parseCommand:e=>{const t=[];for(const i of e.trim().split(Fi)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${i}`:t.push(i)}return t}};const{spawnedKill:Ui,spawnedCancel:qi,setupTimeout:zi,validateTimeout:Hi,setExitHandler:Vi}=bi,{handleInput:Yi,getSpawnedResult:Xi,makeAllStream:Wi,validateInputSync:Ki}=Li,{mergePromise:Ji,getSpawnedPromise:Zi}=Di,{joinCommand:Qi,parseCommand:er,getEscapedCommand:tr}=Gi,ir=(e,t,i={})=>{const r=_t._parse(e,t,i);return e=r.command,t=r.args,(i={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(i=r.options).cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...i}).env=(({env:e,extendEnv:t,preferLocal:i,localDir:r,execPath:n})=>{const s=t?{...process.env,...e}:e;return i?Ut.env({env:s,cwd:r,execPath:n}):s})(i),i.stdio=ii(i),"win32"===process.platform&&"cmd"===S.default.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:i,parsed:r}},rr=(e,t,i)=>"string"==typeof t||Buffer.isBuffer(t)?e.stripFinalNewline?(e=>{const t="string"==typeof e?"\n":"\n".charCodeAt(),i="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===i&&(e=e.slice(0,e.length-1)),e})(t):t:void 0===i?void 0:"",nr=(e,t,i)=>{const r=ir(e,t,i),n=Qi(e,t),s=tr(e,t);let o;Hi(r.options);try{o=E.default.spawn(r.file,r.args,r.options)}catch(e){const t=new E.default.ChildProcess,i=Promise.reject(Qt({error:e,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return Ji(t,i)}const a=Zi(o),l=zi(o,r.options,a),c=Vi(o,r.options,l),u={isCanceled:!1};o.kill=Ui.bind(null,o.kill.bind(o)),o.cancel=qi.bind(null,o,u);const h=Yt(async()=>{const[{error:e,exitCode:t,signal:i,timedOut:a},l,h,d]=await Xi(o,r.options,c),p=rr(r.options,l),f=rr(r.options,h),m=rr(r.options,d);if(e||0!==t||null!==i){const l=Qt({error:e,exitCode:t,signal:i,stdout:p,stderr:f,all:m,command:n,escapedCommand:s,parsed:r,timedOut:a,isCanceled:u.isCanceled,killed:o.killed});if(!r.options.reject)return l;throw l}return{command:n,escapedCommand:s,exitCode:0,stdout:p,stderr:f,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Yi(o,r.options.input),o.all=Wi(o,r.options),Ji(o,h)};var sr=nr;sr.sync=(e,t,i)=>{const r=ir(e,t,i),n=Qi(e,t),s=tr(e,t);let o;Ki(r.options);try{o=E.default.spawnSync(r.file,r.args,r.options)}catch(e){throw Qt({error:e,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}const a=rr(r.options,o.stdout,o.error),l=rr(r.options,o.stderr,o.error);if(o.error||0!==o.status||null!==o.signal){const e=Qt({stdout:a,stderr:l,error:o.error,signal:o.signal,exitCode:o.status,command:n,escapedCommand:s,parsed:r,timedOut:o.error&&"ETIMEDOUT"===o.error.code,isCanceled:!1,killed:null!==o.signal});if(!r.options.reject)return e;throw e}return{command:n,escapedCommand:s,exitCode:0,stdout:a,stderr:l,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}},sr.command=(e,t)=>{const[i,...r]=er(e);return nr(i,r,t)},sr.commandSync=(e,t)=>{const[i,...r]=er(e);return nr.sync(i,r,t)},sr.node=(e,t,i={})=>{t&&!Array.isArray(t)&&"object"==typeof t&&(i=t,t=[]);const r=ii.node(i),n=process.execArgv.filter(e=>!e.startsWith("--inspect")),{nodePath:s=process.execPath,nodeOptions:o=n}=i;return nr(s,[...o,e,...Array.isArray(t)?t:[]],{...i,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})};var or=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((i,r)=>{e.call(this,...t,(e,t)=>null!=e?r(e):i(t))});e.apply(this,t)},"name",{value:e.name})},ar=function(e){return Object.defineProperty(function(...t){const i=t[t.length-1];if("function"!=typeof i)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>i(null,e),i)},"name",{value:e.name})},lr=process.cwd,cr=null,ur=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return cr||(cr=lr.call(process)),cr};try{process.cwd()}catch(e){}var hr=process.chdir;process.chdir=function(e){cr=null,hr.call(process,e)};var dr=T.default.Stream,pr=_(function(e){var t,i;function r(e,i){Object.defineProperty(e,t,{get:function(){return i}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(t=Symbol.for("graceful-fs.queue"),i=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",i="___graceful-fs.previous");var n=function(){};function s(e){(function(e){var t,i;function r(t){return t?function(i,r,n){return t.call(e,i,r,function(e){c(e)&&(e=null),n&&n.apply(this,arguments)})}:t}function n(t){return t?function(i,r){try{return t.call(e,i,r)}catch(e){if(!c(e))throw e}}:t}function s(t){return t?function(i,r,n,s){return t.call(e,i,r,n,function(e){c(e)&&(e=null),s&&s.apply(this,arguments)})}:t}function o(t){return t?function(i,r,n){try{return t.call(e,i,r,n)}catch(e){if(!c(e))throw e}}:t}function a(t){return t?function(i,r,n){function s(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),n&&n.apply(this,arguments)}return"function"==typeof r&&(n=r,r=null),r?t.call(e,i,r,s):t.call(e,i,s)}:t}function l(t){return t?function(i,r){var n=r?t.call(e,i,r):t.call(e,i);return n.uid<0&&(n.uid+=4294967296),n.gid<0&&(n.gid+=4294967296),n}:t}function c(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}R.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,i,r){e.open(t,R.default.O_WRONLY|R.default.O_SYMLINK,i,function(t,n){t?r&&r(t):e.fchmod(n,i,function(t){e.close(n,function(e){r&&r(t||e)})})})},e.lchmodSync=function(t,i){var r,n=e.openSync(t,R.default.O_WRONLY|R.default.O_SYMLINK,i),s=!0;try{r=e.fchmodSync(n,i),s=!1}finally{if(s)try{e.closeSync(n)}catch(e){}else e.closeSync(n)}return r}}(e),e.lutimes||function(e){R.default.hasOwnProperty("O_SYMLINK")?(e.lutimes=function(t,i,r,n){e.open(t,R.default.O_SYMLINK,function(t,s){t?n&&n(t):e.futimes(s,i,r,function(t){e.close(s,function(e){n&&n(t||e)})})})},e.lutimesSync=function(t,i,r){var n,s=e.openSync(t,R.default.O_SYMLINK),o=!0;try{n=e.futimesSync(s,i,r),o=!1}finally{if(o)try{e.closeSync(s)}catch(e){}else e.closeSync(s)}return n}):(e.lutimes=function(e,t,i,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=r(e.chmod),e.fchmod=r(e.fchmod),e.lchmod=r(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.lchmod||(e.lchmod=function(e,t,i){i&&process.nextTick(i)},e.lchmodSync=function(){}),e.lchown||(e.lchown=function(e,t,i,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===ur&&(e.rename=(t=e.rename,function(i,r,n){var s=Date.now(),o=0;t(i,r,function a(l){if(l&&("EACCES"===l.code||"EPERM"===l.code)&&Date.now()-s<6e4)return setTimeout(function(){e.stat(r,function(e,s){e&&"ENOENT"===e.code?t(i,r,a):n(l)})},o),void(o<100&&(o+=10));n&&n(l)})})),e.read=function(t){function i(i,r,n,s,o,a){var l;if(a&&"function"==typeof a){var c=0;l=function(u,h,d){if(u&&"EAGAIN"===u.code&&c<10)return c++,t.call(e,i,r,n,s,o,l);a.apply(this,arguments)}}return t.call(e,i,r,n,s,o,l)}return i.__proto__=t,i}(e.read),e.readSync=(i=e.readSync,function(t,r,n,s,o){for(var a=0;;)try{return i.call(e,t,r,n,s,o)}catch(e){if("EAGAIN"===e.code&&a<10){a++;continue}throw e}})})(e),e.gracefulify=s,e.createReadStream=function(t,i){return new e.ReadStream(t,i)},e.createWriteStream=function(t,i){return new e.WriteStream(t,i)};var t=e.readFile;e.readFile=function(e,i,r){return"function"==typeof i&&(r=i,i=null),function e(i,r,n){return t(i,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?("function"==typeof n&&n.apply(this,arguments),a()):o([e,[i,r,n]])})}(e,i,r)};var i=e.writeFile;e.writeFile=function(e,t,r,n){return"function"==typeof r&&(n=r,r=null),function e(t,r,n,s){return i(t,r,n,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?("function"==typeof s&&s.apply(this,arguments),a()):o([e,[t,r,n,s]])})}(e,t,r,n)};var r=e.appendFile;r&&(e.appendFile=function(e,t,i,n){return"function"==typeof i&&(n=i,i=null),function e(t,i,n,s){return r(t,i,n,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?("function"==typeof s&&s.apply(this,arguments),a()):o([e,[t,i,n,s]])})}(e,t,i,n)});var n=e.readdir;function l(t){return n.apply(e,t)}if(e.readdir=function(e,t,i){var r=[e];return"function"!=typeof t?r.push(t):i=t,r.push(function(e,t){t&&t.sort&&t.sort(),!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?("function"==typeof i&&i.apply(this,arguments),a()):o([l,[r]])}),l(r)},"v0.8"===process.version.substr(0,4)){var c=function(e){return{ReadStream:function t(i,r){if(!(this instanceof t))return new t(i,r);dr.call(this);var n=this;this.path=i,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var s=Object.keys(r),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=r[l]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=Infinity;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return n.emit("error",e),void(n.readable=!1);n.fd=t,n.emit("open",t),n._read()}):process.nextTick(function(){n._read()})},WriteStream:function t(i,r){if(!(this instanceof t))return new t(i,r);dr.call(this),this.path=i,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var n=Object.keys(r),s=0,o=n.length;s<o;s++){var a=n[s];this[a]=r[a]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}(e);f=c.ReadStream,m=c.WriteStream}var u=e.ReadStream;u&&(f.prototype=Object.create(u.prototype),f.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,i){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=i,e.emit("open",i),e.read())})});var h=e.WriteStream;h&&(m.prototype=Object.create(h.prototype),m.prototype.open=function(){var e=this;g(e.path,e.flags,e.mode,function(t,i){t?(e.destroy(),e.emit("error",t)):(e.fd=i,e.emit("open",i))})}),Object.defineProperty(e,"ReadStream",{get:function(){return f},set:function(e){f=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0});var d=f;Object.defineProperty(e,"FileReadStream",{get:function(){return d},set:function(e){d=e},enumerable:!0,configurable:!0});var p=m;function f(e,t){return this instanceof f?(u.apply(this,arguments),this):f.apply(Object.create(f.prototype),arguments)}function m(e,t){return this instanceof m?(h.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var y=e.open;function g(e,t,i,r){return"function"==typeof i&&(r=i,i=null),function e(t,i,r,n){return y(t,i,r,function(s,l){!s||"EMFILE"!==s.code&&"ENFILE"!==s.code?("function"==typeof n&&n.apply(this,arguments),a()):o([e,[t,i,r,n]])})}(e,t,i,r)}return e.open=g,e}function o(e){n("ENQUEUE",e[0].name,e[1]),I.default[t].push(e)}function a(){var e=I.default[t].shift();e&&(n("RETRY",e[0].name,e[1]),e[0].apply(null,e[1]))}C.default.debuglog?n=C.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(n=function(){var e=C.default.format.apply(C.default,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),I.default[t]||(r(I.default,D[t]||[]),I.default.close=function(e){function t(t,i){return e.call(I.default,t,function(e){e||a(),"function"==typeof i&&i.apply(this,arguments)})}return Object.defineProperty(t,i,{value:e}),t}(I.default.close),I.default.closeSync=function(e){function t(t){e.apply(I.default,arguments),a()}return Object.defineProperty(t,i,{value:e}),t}(I.default.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){n(I.default[t]),w.default.equal(I.default[t].length,0)})),D[t]||r(D,I.default[t]),e.exports=s(function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:e.__proto__};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(e,i))}),t}(I.default)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!I.default.__patched&&(e.exports=s(I.default),I.default.__patched=!0)}),fr=_(function(e,t){const i=or,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof pr[e]);Object.assign(t,pr),r.forEach(e=>{t[e]=i(pr[e])}),t.realpath.native=i(pr.realpath.native),t.exists=function(e,t){return"function"==typeof t?pr.exists(e,t):new Promise(t=>pr.exists(e,t))},t.read=function(e,t,i,r,n,s){return"function"==typeof s?pr.read(e,t,i,r,n,s):new Promise((s,o)=>{pr.read(e,t,i,r,n,(e,t,i)=>{if(e)return o(e);s({bytesRead:t,buffer:i})})})},t.write=function(e,t,...i){return"function"==typeof i[i.length-1]?pr.write(e,t,...i):new Promise((r,n)=>{pr.write(e,t,...i,(e,t,i)=>{if(e)return n(e);r({bytesWritten:t,buffer:i})})})},"function"==typeof pr.writev&&(t.writev=function(e,t,...i){return"function"==typeof i[i.length-1]?pr.writev(e,t,...i):new Promise((r,n)=>{pr.writev(e,t,...i,(e,t,i)=>{if(e)return n(e);r({bytesWritten:t,buffers:i})})})})}),mr={checkPath:function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(S.default.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}};const{checkPath:yr}=mr,gr=e=>"number"==typeof e?e:$({},{mode:511},e).mode;var wr={makeDir:async(e,t)=>(yr(e),fr.mkdir(e,{mode:gr(t),recursive:!0})),makeDirSync:(e,t)=>(yr(e),fr.mkdirSync(e,{mode:gr(t),recursive:!0}))};const br=ar,{makeDir:vr,makeDirSync:Er}=wr,Sr=br(vr);var Ir={mkdirs:Sr,mkdirsSync:Er,mkdirp:Sr,mkdirpSync:Er,ensureDir:Sr,ensureDirSync:Er};function Or(e,t,i){const r=i.dereference?e=>fr.stat(e,{bigint:!0}):e=>fr.lstat(e,{bigint:!0});return Promise.all([r(e),r(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function xr(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function Tr(e,t){const i=S.default.resolve(e).split(S.default.sep).filter(e=>e),r=S.default.resolve(t).split(S.default.sep).filter(e=>e);return i.reduce((e,t,i)=>e&&r[i]===t,!0)}function Cr(e,t,i){return`Cannot ${i} '${e}' to a subdirectory of itself, '${t}'.`}var Rr={checkPaths:function(e,t,i,r,n){C.default.callbackify(Or)(e,t,r,(r,s)=>{if(r)return n(r);const{srcStat:o,destStat:a}=s;if(a){if(xr(o,a)){const r=S.default.basename(e),s=S.default.basename(t);return"move"===i&&r!==s&&r.toLowerCase()===s.toLowerCase()?n(null,{srcStat:o,destStat:a,isChangingCase:!0}):n(new Error("Source and destination must not be the same."))}if(o.isDirectory()&&!a.isDirectory())return n(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!o.isDirectory()&&a.isDirectory())return n(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return o.isDirectory()&&Tr(e,t)?n(new Error(Cr(e,t,i))):n(null,{srcStat:o,destStat:a})})},checkPathsSync:function(e,t,i,r){const{srcStat:n,destStat:s}=function(e,t,i){let r;const n=i.dereference?e=>fr.statSync(e,{bigint:!0}):e=>fr.lstatSync(e,{bigint:!0}),s=n(e);try{r=n(t)}catch(e){if("ENOENT"===e.code)return{srcStat:s,destStat:null};throw e}return{srcStat:s,destStat:r}}(e,t,r);if(s){if(xr(n,s)){const r=S.default.basename(e),o=S.default.basename(t);if("move"===i&&r!==o&&r.toLowerCase()===o.toLowerCase())return{srcStat:n,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(n.isDirectory()&&!s.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!n.isDirectory()&&s.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(n.isDirectory()&&Tr(e,t))throw new Error(Cr(e,t,i));return{srcStat:n,destStat:s}},checkParentPaths:function e(t,i,r,n,s){const o=S.default.resolve(S.default.dirname(t)),a=S.default.resolve(S.default.dirname(r));if(a===o||a===S.default.parse(a).root)return s();fr.stat(a,{bigint:!0},(o,l)=>o?"ENOENT"===o.code?s():s(o):xr(i,l)?s(new Error(Cr(t,r,n))):e(t,i,a,n,s))},checkParentPathsSync:function e(t,i,r,n){const s=S.default.resolve(S.default.dirname(t)),o=S.default.resolve(S.default.dirname(r));if(o===s||o===S.default.parse(o).root)return;let a;try{a=fr.statSync(o,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(xr(i,a))throw new Error(Cr(t,r,n));return e(t,i,o,n)},isSrcSubdir:Tr,areIdentical:xr};const Ar=Ir.mkdirsSync;function kr(e,t,i,r){const n=(r.dereference?pr.statSync:pr.lstatSync)(t);if(n.isDirectory())return function(e,t,i,r,n){return t?Lr(i,r,n):function(e,t,i,r){return pr.mkdirSync(i),Lr(t,i,r),Nr(i,e)}(e.mode,i,r,n)}(n,e,t,i,r);if(n.isFile()||n.isCharacterDevice()||n.isBlockDevice())return function(e,t,i,r,n){return t?function(e,t,i,r){if(r.overwrite)return pr.unlinkSync(i),Pr(e,t,i,r);if(r.errorOnExist)throw new Error(`'${i}' already exists`)}(e,i,r,n):Pr(e,i,r,n)}(n,e,t,i,r);if(n.isSymbolicLink())return function(e,t,i,r){let n=pr.readlinkSync(t);if(r.dereference&&(n=S.default.resolve(process.cwd(),n)),e){let e;try{e=pr.readlinkSync(i)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return pr.symlinkSync(n,i);throw e}if(r.dereference&&(e=S.default.resolve(process.cwd(),e)),Rr.isSrcSubdir(n,e))throw new Error(`Cannot copy '${n}' to a subdirectory of itself, '${e}'.`);if(pr.statSync(i).isDirectory()&&Rr.isSrcSubdir(e,n))throw new Error(`Cannot overwrite '${e}' with '${n}'.`);return function(e,t){return pr.unlinkSync(t),pr.symlinkSync(e,t)}(n,i)}return pr.symlinkSync(n,i)}(e,t,i,r);if(n.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(n.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function Pr(e,t,i,r){return pr.copyFileSync(t,i),r.preserveTimestamps&&function(e,t,i){(function(e){return 0==(128&e)})(e)&&function(e,t){Nr(e,128|t)}(i,e),function(e,t){const i=pr.statSync(e);!function(e,t,i){const r=pr.openSync(e,"r+");pr.futimesSync(r,t,i),pr.closeSync(r)}(t,i.atime,i.mtime)}(t,i)}(e.mode,t,i),Nr(i,e.mode)}function Nr(e,t){return pr.chmodSync(e,t)}function Lr(e,t,i){pr.readdirSync(e).forEach(r=>function(e,t,i,r){const n=S.default.join(t,e),s=S.default.join(i,e),{destStat:o}=Rr.checkPathsSync(n,s,"copy",r);return function(e,t,i,r){if(!r.filter||r.filter(t,i))return kr(e,t,i,r)}(o,n,s,r)}(r,e,t,i))}var jr={copySync:function(e,t,i){"function"==typeof i&&(i={filter:i}),(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269");const{srcStat:r,destStat:n}=Rr.checkPathsSync(e,t,"copy",i);return Rr.checkParentPathsSync(e,r,t,"copy"),function(e,t,i,r){if(r.filter&&!r.filter(t,i))return;const n=S.default.dirname(i);return pr.existsSync(n)||Ar(n),kr(e,t,i,r)}(n,e,t,i)}},$r={pathExists:ar(function(e){return fr.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:fr.existsSync};const Dr=Ir.mkdirs,_r=$r.pathExists;function Br(e,t,i,r,n){const s=S.default.dirname(i);_r(s,(o,a)=>o?n(o):a?Fr(e,t,i,r,n):void Dr(s,s=>s?n(s):Fr(e,t,i,r,n)))}function Mr(e,t,i,r,n,s){Promise.resolve(n.filter(i,r)).then(o=>o?e(t,i,r,n,s):s(),e=>s(e))}function Fr(e,t,i,r,n){(r.dereference?pr.stat:pr.lstat)(t,(s,o)=>s?n(s):o.isDirectory()?function(e,t,i,r,n,s){return t?zr(i,r,n,s):function(e,t,i,r,n){pr.mkdir(i,s=>{if(s)return n(s);zr(t,i,r,t=>t?n(t):qr(i,e,n))})}(e.mode,i,r,n,s)}(o,e,t,i,r,n):o.isFile()||o.isCharacterDevice()||o.isBlockDevice()?function(e,t,i,r,n,s){return t?function(e,t,i,r,n){if(!r.overwrite)return r.errorOnExist?n(new Error(`'${i}' already exists`)):n();pr.unlink(i,s=>s?n(s):Gr(e,t,i,r,n))}(e,i,r,n,s):Gr(e,i,r,n,s)}(o,e,t,i,r,n):o.isSymbolicLink()?function(e,t,i,r,n){pr.readlink(t,(t,s)=>t?n(t):(r.dereference&&(s=S.default.resolve(process.cwd(),s)),e?void pr.readlink(i,(t,o)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?pr.symlink(s,i,n):n(t):(r.dereference&&(o=S.default.resolve(process.cwd(),o)),Rr.isSrcSubdir(s,o)?n(new Error(`Cannot copy '${s}' to a subdirectory of itself, '${o}'.`)):e.isDirectory()&&Rr.isSrcSubdir(o,s)?n(new Error(`Cannot overwrite '${o}' with '${s}'.`)):function(e,t,i){pr.unlink(t,r=>r?i(r):pr.symlink(e,t,i))}(s,i,n))):pr.symlink(s,i,n)))}(e,t,i,r,n):o.isSocket()?n(new Error(`Cannot copy a socket file: ${t}`)):o.isFIFO()?n(new Error(`Cannot copy a FIFO pipe: ${t}`)):n(new Error(`Unknown file: ${t}`)))}function Gr(e,t,i,r,n){pr.copyFile(t,i,s=>s?n(s):r.preserveTimestamps?function(e,t,i,r){return function(e){return 0==(128&e)}(e)?function(e,t,i){return qr(e,128|t,i)}(i,e,n=>n?r(n):Ur(e,t,i,r)):Ur(e,t,i,r)}(e.mode,t,i,n):qr(i,e.mode,n))}function Ur(e,t,i,r){!function(e,t,i){pr.stat(e,(e,r)=>e?i(e):function(e,t,i,r){pr.open(e,"r+",(e,n)=>{if(e)return r(e);pr.futimes(n,t,i,e=>{pr.close(n,t=>{r&&r(e||t)})})})}(t,r.atime,r.mtime,i))}(t,i,t=>t?r(t):qr(i,e,r))}function qr(e,t,i){return pr.chmod(e,t,i)}function zr(e,t,i,r){pr.readdir(e,(n,s)=>n?r(n):Hr(s,e,t,i,r))}function Hr(e,t,i,r,n){const s=e.pop();return s?function(e,t,i,r,n,s){const o=S.default.join(i,t),a=S.default.join(r,t);Rr.checkPaths(o,a,"copy",n,(t,l)=>{if(t)return s(t);const{destStat:c}=l;!function(e,t,i,r,n){r.filter?Mr(Fr,e,t,i,r,n):Fr(e,t,i,r,n)}(c,o,a,n,t=>t?s(t):Hr(e,i,r,n,s))})}(e,s,t,i,r,n):n()}var Vr={copy:or(function(e,t,i,r){"function"!=typeof i||r?"function"==typeof i&&(i={filter:i}):(r=i,i={}),r=r||function(){},(i=i||{}).clobber=!("clobber"in i)||!!i.clobber,i.overwrite="overwrite"in i?!!i.overwrite:i.clobber,i.preserveTimestamps&&"ia32"===process.arch&&console.warn("fs-extra: Using the preserveTimestamps option in 32-bit node is not recommended;\n\n    see https://github.com/jprichardson/node-fs-extra/issues/269"),Rr.checkPaths(e,t,"copy",i,(n,s)=>{if(n)return r(n);const{srcStat:o,destStat:a}=s;Rr.checkParentPaths(e,o,t,"copy",n=>n?r(n):i.filter?Mr(Br,a,e,t,i,r):Br(a,e,t,i,r))})})};const Yr="win32"===process.platform;function Xr(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||pr[t],e[t+="Sync"]=e[t]||pr[t]}),e.maxBusyTries=e.maxBusyTries||3}function Wr(e,t,i){let r=0;"function"==typeof t&&(i=t,t={}),w.default(e,"rimraf: missing path"),w.default.strictEqual(typeof e,"string","rimraf: path should be a string"),w.default.strictEqual(typeof i,"function","rimraf: callback function required"),w.default(t,"rimraf: invalid options argument provided"),w.default.strictEqual(typeof t,"object","rimraf: options should be object"),Xr(t),Kr(e,t,function n(s){if(s){if(("EBUSY"===s.code||"ENOTEMPTY"===s.code||"EPERM"===s.code)&&r<t.maxBusyTries)return r++,setTimeout(()=>Kr(e,t,n),100*r);"ENOENT"===s.code&&(s=null)}i(s)})}function Kr(e,t,i){w.default(e),w.default(t),w.default("function"==typeof i),t.lstat(e,(r,n)=>r&&"ENOENT"===r.code?i(null):r&&"EPERM"===r.code&&Yr?Jr(e,t,r,i):n&&n.isDirectory()?Qr(e,t,r,i):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return i(null);if("EPERM"===r.code)return Yr?Jr(e,t,r,i):Qr(e,t,r,i);if("EISDIR"===r.code)return Qr(e,t,r,i)}return i(r)}))}function Jr(e,t,i,r){w.default(e),w.default(t),w.default("function"==typeof r),t.chmod(e,438,n=>{n?r("ENOENT"===n.code?null:i):t.stat(e,(n,s)=>{n?r("ENOENT"===n.code?null:i):s.isDirectory()?Qr(e,t,i,r):t.unlink(e,r)})})}function Zr(e,t,i){let r;w.default(e),w.default(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw i}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw i}r.isDirectory()?tn(e,t,i):t.unlinkSync(e)}function Qr(e,t,i,r){w.default(e),w.default(t),w.default("function"==typeof r),t.rmdir(e,n=>{!n||"ENOTEMPTY"!==n.code&&"EEXIST"!==n.code&&"EPERM"!==n.code?r(n&&"ENOTDIR"===n.code?i:n):function(e,t,i){w.default(e),w.default(t),w.default("function"==typeof i),t.readdir(e,(r,n)=>{if(r)return i(r);let s,o=n.length;if(0===o)return t.rmdir(e,i);n.forEach(r=>{Wr(S.default.join(e,r),t,r=>{if(!s)return r?i(s=r):void(0==--o&&t.rmdir(e,i))})})})}(e,t,r)})}function en(e,t){let i;Xr(t=t||{}),w.default(e,"rimraf: missing path"),w.default.strictEqual(typeof e,"string","rimraf: path should be a string"),w.default(t,"rimraf: missing options"),w.default.strictEqual(typeof t,"object","rimraf: options should be object");try{i=t.lstatSync(e)}catch(i){if("ENOENT"===i.code)return;"EPERM"===i.code&&Yr&&Zr(e,t,i)}try{i&&i.isDirectory()?tn(e,t,null):t.unlinkSync(e)}catch(i){if("ENOENT"===i.code)return;if("EPERM"===i.code)return Yr?Zr(e,t,i):tn(e,t,i);if("EISDIR"!==i.code)throw i;tn(e,t,i)}}function tn(e,t,i){w.default(e),w.default(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw i;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(w.default(e),w.default(t),t.readdirSync(e).forEach(i=>en(S.default.join(e,i),t)),!Yr)return t.rmdirSync(e,t);{const i=Date.now();do{try{return t.rmdirSync(e,t)}catch(e){}}while(Date.now()-i<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}var rn=Wr;Wr.sync=en;var nn={remove:or(function(e,t){if(pr.rm)return pr.rm(e,{recursive:!0,force:!0},t);rn(e,t)}),removeSync:function(e){if(pr.rmSync)return pr.rmSync(e,{recursive:!0,force:!0});rn.sync(e)}};const sn=ar(async function(e){let t;try{t=await fr.readdir(e)}catch(t){return Ir.mkdirs(e)}return Promise.all(t.map(t=>nn.remove(S.default.join(e,t))))});function on(e){let t;try{t=fr.readdirSync(e)}catch(t){return Ir.mkdirsSync(e)}t.forEach(t=>{t=S.default.join(e,t),nn.removeSync(t)})}var an={emptyDirSync:on,emptydirSync:on,emptyDir:sn,emptydir:sn},ln={createFile:or(function(e,t){function i(){pr.writeFile(e,"",e=>{if(e)return t(e);t()})}pr.stat(e,(r,n)=>{if(!r&&n.isFile())return t();const s=S.default.dirname(e);pr.stat(s,(e,r)=>{if(e)return"ENOENT"===e.code?Ir.mkdirs(s,e=>{if(e)return t(e);i()}):t(e);r.isDirectory()?i():pr.readdir(s,e=>{if(e)return t(e)})})})}),createFileSync:function(e){let t;try{t=pr.statSync(e)}catch(e){}if(t&&t.isFile())return;const i=S.default.dirname(e);try{pr.statSync(i).isDirectory()||pr.readdirSync(i)}catch(e){if(!e||"ENOENT"!==e.code)throw e;Ir.mkdirsSync(i)}pr.writeFileSync(e,"")}};const cn=or,un=$r.pathExists,{areIdentical:hn}=Rr;var dn={createLink:cn(function(e,t,i){function r(e,t){pr.link(e,t,e=>{if(e)return i(e);i(null)})}pr.lstat(t,(n,s)=>{pr.lstat(e,(n,o)=>{if(n)return n.message=n.message.replace("lstat","ensureLink"),i(n);if(s&&hn(o,s))return i(null);const a=S.default.dirname(t);un(a,(n,s)=>n?i(n):s?r(e,t):void Ir.mkdirs(a,n=>{if(n)return i(n);r(e,t)}))})})}),createLinkSync:function(e,t){let i;try{i=pr.lstatSync(t)}catch(e){}try{const t=pr.lstatSync(e);if(i&&hn(t,i))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=S.default.dirname(t);return pr.existsSync(r)||Ir.mkdirsSync(r),pr.linkSync(e,t)}};const pn=$r.pathExists,fn=or,mn=Ir.mkdirs,yn=Ir.mkdirsSync,gn=$r.pathExists,{areIdentical:wn}=Rr;function bn(e,t,i,r){!function(e,t,i){if(S.default.isAbsolute(e))return pr.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),i(t)):i(null,{toCwd:e,toDst:e}));{const r=S.default.dirname(t),n=S.default.join(r,e);pn(n,(t,s)=>t?i(t):s?i(null,{toCwd:n,toDst:e}):pr.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),i(t)):i(null,{toCwd:e,toDst:S.default.relative(r,e)})))}}(e,t,(n,s)=>{if(n)return r(n);e=s.toDst,function(e,t,i){if(i="function"==typeof t?t:i,t="function"!=typeof t&&t)return i(null,t);pr.lstat(e,(e,r)=>{if(e)return i(null,"file");t=r&&r.isDirectory()?"dir":"file",i(null,t)})}(s.toCwd,i,(i,n)=>{if(i)return r(i);const s=S.default.dirname(t);gn(s,(i,o)=>i?r(i):o?fr.symlink(e,t,n,r):void mn(s,i=>{if(i)return r(i);fr.symlink(e,t,n,r)}))})})}var vn={createSymlink:fn(function(e,t,i,r){r="function"==typeof i?i:r,i="function"!=typeof i&&i,fr.lstat(t,(n,s)=>{!n&&s.isSymbolicLink()?Promise.all([fr.stat(e),fr.stat(t)]).then(([n,s])=>{if(wn(n,s))return r(null);bn(e,t,i,r)}):bn(e,t,i,r)})}),createSymlinkSync:function(e,t,i){let r;try{r=fr.lstatSync(t)}catch(e){}if(r&&r.isSymbolicLink()){const i=fr.statSync(e),r=fr.statSync(t);if(wn(i,r))return}const n=function(e,t){let i;if(S.default.isAbsolute(e)){if(i=pr.existsSync(e),!i)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const r=S.default.dirname(t),n=S.default.join(r,e);if(i=pr.existsSync(n),i)return{toCwd:n,toDst:e};if(i=pr.existsSync(e),!i)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:S.default.relative(r,e)}}}(e,t);e=n.toDst,i=function(e,t){let i;if(t)return t;try{i=pr.lstatSync(e)}catch(e){return"file"}return i&&i.isDirectory()?"dir":"file"}(n.toCwd,i);const s=S.default.dirname(t);return fr.existsSync(s)||yn(s),fr.symlinkSync(e,t,i)}},En={createFile:ln.createFile,createFileSync:ln.createFileSync,ensureFile:ln.createFile,ensureFileSync:ln.createFileSync,createLink:dn.createLink,createLinkSync:dn.createLinkSync,ensureLink:dn.createLink,ensureLinkSync:dn.createLinkSync,createSymlink:vn.createSymlink,createSymlinkSync:vn.createSymlinkSync,ensureSymlink:vn.createSymlink,ensureSymlinkSync:vn.createSymlinkSync},Sn=function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((i,r)=>{e.apply(this,t.concat([(e,t)=>e?r(e):i(t)]))});e.apply(this,t)},"name",{value:e.name})},In=function(e){return Object.defineProperty(function(...t){const i=t[t.length-1];if("function"!=typeof i)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>i(null,e),i)},"name",{value:e.name})},On={stringify:function(e,t={}){const i=t.EOL||"\n";return JSON.stringify(e,t?t.replacer:null,t.spaces).replace(/\n/g,i)+i},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}};let xn;try{xn=pr}catch(e){xn=I.default}const{stringify:Tn,stripBom:Cn}=On,Rn={readFile:In(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const i=t.fs||xn,r=!("throws"in t)||t.throws;let n,s=await Sn(i.readFile)(e,t);s=Cn(s);try{n=JSON.parse(s,t?t.reviver:null)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}return n}),readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const i=t.fs||xn,r=!("throws"in t)||t.throws;try{let r=i.readFileSync(e,t);return r=Cn(r),JSON.parse(r,t.reviver)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:In(async function(e,t,i={}){const r=i.fs||xn,n=Tn(t,i);await Sn(r.writeFile)(e,n,i)}),writeFileSync:function(e,t,i={}){const r=i.fs||xn,n=Tn(t,i);return r.writeFileSync(e,n,i)}};var An={readJson:Rn.readFile,readJsonSync:Rn.readFileSync,writeJson:Rn.writeFile,writeJsonSync:Rn.writeFileSync};const kn=$r.pathExists;var Pn={outputFile:or(function(e,t,i,r){"function"==typeof i&&(r=i,i="utf8");const n=S.default.dirname(e);kn(n,(s,o)=>s?r(s):o?pr.writeFile(e,t,i,r):void Ir.mkdirs(n,n=>{if(n)return r(n);pr.writeFile(e,t,i,r)}))}),outputFileSync:function(e,...t){const i=S.default.dirname(e);if(pr.existsSync(i))return pr.writeFileSync(e,...t);Ir.mkdirsSync(i),pr.writeFileSync(e,...t)}};const{stringify:Nn}=On,{outputFile:Ln}=Pn,{stringify:jn}=On,{outputFileSync:$n}=Pn;An.outputJson=ar(async function(e,t,i={}){const r=Nn(t,i);await Ln(e,r,i)}),An.outputJsonSync=function(e,t,i){const r=jn(t,i);$n(e,r,i)},An.outputJSON=An.outputJson,An.outputJSONSync=An.outputJsonSync,An.writeJSON=An.writeJson,An.writeJSONSync=An.writeJsonSync,An.readJSON=An.readJson,An.readJSONSync=An.readJsonSync;var Dn=An;const _n=jr.copySync,Bn=nn.removeSync,Mn=Ir.mkdirpSync;function Fn(e,t,i){try{pr.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,i){return _n(e,t,{overwrite:i,errorOnExist:!0}),Bn(e)}(e,t,i)}}var Gn={moveSync:function(e,t,i){const r=(i=i||{}).overwrite||i.clobber||!1,{srcStat:n,isChangingCase:s=!1}=Rr.checkPathsSync(e,t,"move",i);return Rr.checkParentPathsSync(e,n,t,"move"),function(e){const t=S.default.dirname(e);return S.default.parse(t).root===t}(t)||Mn(S.default.dirname(t)),function(e,t,i,r){if(r)return Fn(e,t,i);if(i)return Bn(t),Fn(e,t,i);if(pr.existsSync(t))throw new Error("dest already exists.");return Fn(e,t,i)}(e,t,r,s)}};const Un=Vr.copy,qn=nn.remove,zn=Ir.mkdirp,Hn=$r.pathExists;function Vn(e,t,i,r,n){return r?Yn(e,t,i,n):i?qn(t,r=>r?n(r):Yn(e,t,i,n)):void Hn(t,(r,s)=>r?n(r):s?n(new Error("dest already exists.")):Yn(e,t,i,n))}function Yn(e,t,i,r){pr.rename(e,t,n=>n?"EXDEV"!==n.code?r(n):function(e,t,i,r){Un(e,t,{overwrite:i,errorOnExist:!0},t=>t?r(t):qn(e,r))}(e,t,i,r):r())}var Xn={move:or(function(e,t,i,r){"function"==typeof i&&(r=i,i={});const n=i.overwrite||i.clobber||!1;Rr.checkPaths(e,t,"move",i,(i,s)=>{if(i)return r(i);const{srcStat:o,isChangingCase:a=!1}=s;Rr.checkParentPaths(e,o,t,"move",i=>i?r(i):function(e){const t=S.default.dirname(e);return S.default.parse(t).root===t}(t)?Vn(e,t,n,a,r):void zn(S.default.dirname(t),i=>i?r(i):Vn(e,t,n,a,r)))})})},Wn=$({},fr,jr,Vr,an,En,Dn,Ir,Gn,Xn,Pn,$r,nn);const Kn=e=>console.log(e),Jn=e=>console.log(G.green(G.symbols.check+" ")+e),Zn=e=>{console.error(e),process.exit(1)},Qn="win32"===process.platform?["-","\\","|","/"]:["‚†ã","‚†ô","‚†π","‚†∏","‚†º","‚†¥","‚†¶","‚†ß","‚†á","‚†è"],es=process.stderr;var ts=_(function(e,t){var i;t=e.exports=h,i="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,n=t.re=[],s=t.src=[],o=t.tokens={},a=0;function l(e){o[e]=a++}l("NUMERICIDENTIFIER"),s[o.NUMERICIDENTIFIER]="0|[1-9]\\d*",l("NUMERICIDENTIFIERLOOSE"),s[o.NUMERICIDENTIFIERLOOSE]="[0-9]+",l("NONNUMERICIDENTIFIER"),s[o.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",l("MAINVERSION"),s[o.MAINVERSION]="("+s[o.NUMERICIDENTIFIER]+")\\.("+s[o.NUMERICIDENTIFIER]+")\\.("+s[o.NUMERICIDENTIFIER]+")",l("MAINVERSIONLOOSE"),s[o.MAINVERSIONLOOSE]="("+s[o.NUMERICIDENTIFIERLOOSE]+")\\.("+s[o.NUMERICIDENTIFIERLOOSE]+")\\.("+s[o.NUMERICIDENTIFIERLOOSE]+")",l("PRERELEASEIDENTIFIER"),s[o.PRERELEASEIDENTIFIER]="(?:"+s[o.NUMERICIDENTIFIER]+"|"+s[o.NONNUMERICIDENTIFIER]+")",l("PRERELEASEIDENTIFIERLOOSE"),s[o.PRERELEASEIDENTIFIERLOOSE]="(?:"+s[o.NUMERICIDENTIFIERLOOSE]+"|"+s[o.NONNUMERICIDENTIFIER]+")",l("PRERELEASE"),s[o.PRERELEASE]="(?:-("+s[o.PRERELEASEIDENTIFIER]+"(?:\\."+s[o.PRERELEASEIDENTIFIER]+")*))",l("PRERELEASELOOSE"),s[o.PRERELEASELOOSE]="(?:-?("+s[o.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+s[o.PRERELEASEIDENTIFIERLOOSE]+")*))",l("BUILDIDENTIFIER"),s[o.BUILDIDENTIFIER]="[0-9A-Za-z-]+",l("BUILD"),s[o.BUILD]="(?:\\+("+s[o.BUILDIDENTIFIER]+"(?:\\."+s[o.BUILDIDENTIFIER]+")*))",l("FULL"),l("FULLPLAIN"),s[o.FULLPLAIN]="v?"+s[o.MAINVERSION]+s[o.PRERELEASE]+"?"+s[o.BUILD]+"?",s[o.FULL]="^"+s[o.FULLPLAIN]+"$",l("LOOSEPLAIN"),s[o.LOOSEPLAIN]="[v=\\s]*"+s[o.MAINVERSIONLOOSE]+s[o.PRERELEASELOOSE]+"?"+s[o.BUILD]+"?",l("LOOSE"),s[o.LOOSE]="^"+s[o.LOOSEPLAIN]+"$",l("GTLT"),s[o.GTLT]="((?:<|>)?=?)",l("XRANGEIDENTIFIERLOOSE"),s[o.XRANGEIDENTIFIERLOOSE]=s[o.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",l("XRANGEIDENTIFIER"),s[o.XRANGEIDENTIFIER]=s[o.NUMERICIDENTIFIER]+"|x|X|\\*",l("XRANGEPLAIN"),s[o.XRANGEPLAIN]="[v=\\s]*("+s[o.XRANGEIDENTIFIER]+")(?:\\.("+s[o.XRANGEIDENTIFIER]+")(?:\\.("+s[o.XRANGEIDENTIFIER]+")(?:"+s[o.PRERELEASE]+")?"+s[o.BUILD]+"?)?)?",l("XRANGEPLAINLOOSE"),s[o.XRANGEPLAINLOOSE]="[v=\\s]*("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+s[o.XRANGEIDENTIFIERLOOSE]+")(?:"+s[o.PRERELEASELOOSE]+")?"+s[o.BUILD]+"?)?)?",l("XRANGE"),s[o.XRANGE]="^"+s[o.GTLT]+"\\s*"+s[o.XRANGEPLAIN]+"$",l("XRANGELOOSE"),s[o.XRANGELOOSE]="^"+s[o.GTLT]+"\\s*"+s[o.XRANGEPLAINLOOSE]+"$",l("COERCE"),s[o.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",l("COERCERTL"),n[o.COERCERTL]=new RegExp(s[o.COERCE],"g"),l("LONETILDE"),s[o.LONETILDE]="(?:~>?)",l("TILDETRIM"),s[o.TILDETRIM]="(\\s*)"+s[o.LONETILDE]+"\\s+",n[o.TILDETRIM]=new RegExp(s[o.TILDETRIM],"g"),l("TILDE"),s[o.TILDE]="^"+s[o.LONETILDE]+s[o.XRANGEPLAIN]+"$",l("TILDELOOSE"),s[o.TILDELOOSE]="^"+s[o.LONETILDE]+s[o.XRANGEPLAINLOOSE]+"$",l("LONECARET"),s[o.LONECARET]="(?:\\^)",l("CARETTRIM"),s[o.CARETTRIM]="(\\s*)"+s[o.LONECARET]+"\\s+",n[o.CARETTRIM]=new RegExp(s[o.CARETTRIM],"g"),l("CARET"),s[o.CARET]="^"+s[o.LONECARET]+s[o.XRANGEPLAIN]+"$",l("CARETLOOSE"),s[o.CARETLOOSE]="^"+s[o.LONECARET]+s[o.XRANGEPLAINLOOSE]+"$",l("COMPARATORLOOSE"),s[o.COMPARATORLOOSE]="^"+s[o.GTLT]+"\\s*("+s[o.LOOSEPLAIN]+")$|^$",l("COMPARATOR"),s[o.COMPARATOR]="^"+s[o.GTLT]+"\\s*("+s[o.FULLPLAIN]+")$|^$",l("COMPARATORTRIM"),s[o.COMPARATORTRIM]="(\\s*)"+s[o.GTLT]+"\\s*("+s[o.LOOSEPLAIN]+"|"+s[o.XRANGEPLAIN]+")",n[o.COMPARATORTRIM]=new RegExp(s[o.COMPARATORTRIM],"g"),l("HYPHENRANGE"),s[o.HYPHENRANGE]="^\\s*("+s[o.XRANGEPLAIN]+")\\s+-\\s+("+s[o.XRANGEPLAIN]+")\\s*$",l("HYPHENRANGELOOSE"),s[o.HYPHENRANGELOOSE]="^\\s*("+s[o.XRANGEPLAINLOOSE]+")\\s+-\\s+("+s[o.XRANGEPLAINLOOSE]+")\\s*$",l("STAR"),s[o.STAR]="(<|>)?=?\\s*\\*";for(var c=0;c<a;c++)i(c,s[c]),n[c]||(n[c]=new RegExp(s[c]));function u(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t.loose?n[o.LOOSE]:n[o.FULL]).test(e))return null;try{return new h(e,t)}catch(e){return null}}function h(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof h){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof h))return new h(e,t);i("SemVer",e,t),this.options=t,this.loose=!!t.loose;var s=e.trim().match(t.loose?n[o.LOOSE]:n[o.FULL]);if(!s)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+s[1],this.minor=+s[2],this.patch=+s[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=s[4]?s[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e}):[],this.build=s[5]?s[5].split("."):[],this.format()}t.parse=u,t.valid=function(e,t){var i=u(e,t);return i?i.version:null},t.clean=function(e,t){var i=u(e.trim().replace(/^[=v]+/,""),t);return i?i.version:null},t.SemVer=h,h.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},h.prototype.toString=function(){return this.version},h.prototype.compare=function(e){return i("SemVer.compare",this.version,this.options,e),e instanceof h||(e=new h(e,this.options)),this.compareMain(e)||this.comparePre(e)},h.prototype.compareMain=function(e){return e instanceof h||(e=new h(e,this.options)),p(this.major,e.major)||p(this.minor,e.minor)||p(this.patch,e.patch)},h.prototype.comparePre=function(e){if(e instanceof h||(e=new h(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],n=e.prerelease[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return p(r,n)}while(++t)},h.prototype.compareBuild=function(e){e instanceof h||(e=new h(e,this.options));var t=0;do{var r=this.build[t],n=e.build[t];if(i("prerelease compare",t,r,n),void 0===r&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===r)return-1;if(r!==n)return p(r,n)}while(++t)},h.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var i=this.prerelease.length;--i>=0;)"number"==typeof this.prerelease[i]&&(this.prerelease[i]++,i=-2);-1===i&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,i,r){"string"==typeof i&&(r=i,i=void 0);try{return new h(e,i).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(g(e,t))return null;var i=u(e),r=u(t),n="";if(i.prerelease.length||r.prerelease.length){n="pre";var s="prerelease"}for(var o in i)if(("major"===o||"minor"===o||"patch"===o)&&i[o]!==r[o])return n+o;return s},t.compareIdentifiers=p;var d=/^[0-9]+$/;function p(e,t){var i=d.test(e),r=d.test(t);return i&&r&&(e=+e,t=+t),e===t?0:i&&!r?-1:r&&!i?1:e<t?-1:1}function f(e,t,i){return new h(e,i).compare(new h(t,i))}function m(e,t,i){return f(e,t,i)>0}function y(e,t,i){return f(e,t,i)<0}function g(e,t,i){return 0===f(e,t,i)}function w(e,t,i){return 0!==f(e,t,i)}function b(e,t,i){return f(e,t,i)>=0}function v(e,t,i){return f(e,t,i)<=0}function E(e,t,i,r){switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e===i;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof i&&(i=i.version),e!==i;case"":case"=":case"==":return g(e,i,r);case"!=":return w(e,i,r);case">":return m(e,i,r);case">=":return b(e,i,r);case"<":return y(e,i,r);case"<=":return v(e,i,r);default:throw new TypeError("Invalid operator: "+t)}}function S(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof S){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof S))return new S(e,t);i("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===I?"":this.operator+this.semver.version,i("comp",this)}t.rcompareIdentifiers=function(e,t){return p(t,e)},t.major=function(e,t){return new h(e,t).major},t.minor=function(e,t){return new h(e,t).minor},t.patch=function(e,t){return new h(e,t).patch},t.compare=f,t.compareLoose=function(e,t){return f(e,t,!0)},t.compareBuild=function(e,t,i){var r=new h(e,i),n=new h(t,i);return r.compare(n)||r.compareBuild(n)},t.rcompare=function(e,t,i){return f(t,e,i)},t.sort=function(e,i){return e.sort(function(e,r){return t.compareBuild(e,r,i)})},t.rsort=function(e,i){return e.sort(function(e,r){return t.compareBuild(r,e,i)})},t.gt=m,t.lt=y,t.eq=g,t.neq=w,t.gte=b,t.lte=v,t.cmp=E,t.Comparator=S;var I={};function O(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof O)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new O(e.raw,t);if(e instanceof S)return new O(e.value,t);if(!(this instanceof O))return new O(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function x(e,t){for(var i=!0,r=e.slice(),n=r.pop();i&&r.length;)i=r.every(function(e){return n.intersects(e,t)}),n=r.pop();return i}function T(e){return!e||"x"===e.toLowerCase()||"*"===e}function C(e,t,i,r,n,s,o,a,l,c,u,h,d){return((t=T(i)?"":T(r)?">="+i+".0.0":T(n)?">="+i+"."+r+".0":">="+t)+" "+(a=T(l)?"":T(c)?"<"+(+l+1)+".0.0":T(u)?"<"+l+"."+(+c+1)+".0":h?"<="+l+"."+c+"."+u+"-"+h:"<="+a)).trim()}function R(e,t,r){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(n=0;n<e.length;n++)if(i(e[n].semver),e[n].semver!==I&&e[n].semver.prerelease.length>0){var s=e[n].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0}function A(e,t,i){try{t=new O(t,i)}catch(e){return!1}return t.test(e)}function k(e,t,i,r){var n,s,o,a,l;switch(e=new h(e,r),t=new O(t,r),i){case">":n=m,s=v,o=y,a=">",l=">=";break;case"<":n=y,s=b,o=m,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(A(e,t,r))return!1;for(var c=0;c<t.set.length;++c){var u=null,d=null;if(t.set[c].forEach(function(e){e.semver===I&&(e=new S(">=0.0.0")),d=d||e,n(e.semver,(u=u||e).semver,r)?u=e:o(e.semver,d.semver,r)&&(d=e)}),u.operator===a||u.operator===l)return!1;if((!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===l&&o(e,d.semver))return!1}return!0}S.prototype.parse=function(e){var t=e.match(this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR]);if(!t)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),this.semver=t[2]?new h(t[2],this.options.loose):I},S.prototype.toString=function(){return this.value},S.prototype.test=function(e){if(i("Comparator.test",e,this.options.loose),this.semver===I||e===I)return!0;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}return E(e,this.operator,this.semver,this.options)},S.prototype.intersects=function(e,t){if(!(e instanceof S))throw new TypeError("a Comparator is required");var i;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||(i=new O(e.value,t),A(this.value,i,t));if(""===e.operator)return""===e.value||(i=new O(this.value,t),A(e.semver,i,t));var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=E(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),l=E(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&o||a||l},t.Range=O,O.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},O.prototype.toString=function(){return this.range},O.prototype.parseRange=function(e){var t=this.options.loose;e=(e=e.trim()).replace(t?n[o.HYPHENRANGELOOSE]:n[o.HYPHENRANGE],C),i("hyphen replace",e),e=e.replace(n[o.COMPARATORTRIM],"$1$2$3"),i("comparator trim",e,n[o.COMPARATORTRIM]),e=(e=(e=e.replace(n[o.TILDETRIM],"$1~")).replace(n[o.CARETTRIM],"$1^")).split(/\s+/).join(" ");var r=t?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],s=e.split(" ").map(function(e){return function(e,t){return i("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return i("caret",e,t),e.replace(t.loose?n[o.CARETLOOSE]:n[o.CARET],function(t,r,n,s,o){var a;return i("caret",e,t,r,n,s,o),T(r)?a="":T(n)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(s)?a="0"===r?">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":">="+r+"."+n+".0 <"+(+r+1)+".0.0":o?(i("replaceCaret pr",o),a="0"===r?"0"===n?">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+"-"+o+" <"+(+r+1)+".0.0"):(i("no pr"),a="0"===r?"0"===n?">="+r+"."+n+"."+s+" <"+r+"."+n+"."+(+s+1):">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0":">="+r+"."+n+"."+s+" <"+(+r+1)+".0.0"),i("caret return",a),a})}(e,t)}).join(" ")}(e,t),i("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){return e.replace(t.loose?n[o.TILDELOOSE]:n[o.TILDE],function(t,r,n,s,o){var a;return i("tilde",e,t,r,n,s,o),T(r)?a="":T(n)?a=">="+r+".0.0 <"+(+r+1)+".0.0":T(s)?a=">="+r+"."+n+".0 <"+r+"."+(+n+1)+".0":o?(i("replaceTilde pr",o),a=">="+r+"."+n+"."+s+"-"+o+" <"+r+"."+(+n+1)+".0"):a=">="+r+"."+n+"."+s+" <"+r+"."+(+n+1)+".0",i("tilde return",a),a})}(e,t)}).join(" ")}(e,t),i("tildes",e),e=function(e,t){return i("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){return(e=e.trim()).replace(t.loose?n[o.XRANGELOOSE]:n[o.XRANGE],function(r,n,s,o,a,l){i("xRange",e,r,n,s,o,a,l);var c=T(s),u=c||T(o),h=u||T(a);return"="===n&&h&&(n=""),l=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&h?(u&&(o=0),a=0,">"===n?(n=">=",u?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",u?s=+s+1:o=+o+1),r=n+s+"."+o+"."+a+l):u?r=">="+s+".0.0"+l+" <"+(+s+1)+".0.0"+l:h&&(r=">="+s+"."+o+".0"+l+" <"+s+"."+(+o+1)+".0"+l),i("xRange return",r),r})}(e,t)}).join(" ")}(e,t),i("xrange",e),e=function(e,t){return i("replaceStars",e,t),e.trim().replace(n[o.STAR],"")}(e,t),i("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(s=s.filter(function(e){return!!e.match(r)})),s.map(function(e){return new S(e,this.options)},this)},O.prototype.intersects=function(e,t){if(!(e instanceof O))throw new TypeError("a Range is required");return this.set.some(function(i){return x(i,t)&&e.set.some(function(e){return x(e,t)&&i.every(function(i){return e.every(function(e){return i.intersects(e,t)})})})})},t.toComparators=function(e,t){return new O(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},O.prototype.test=function(e){if(!e)return!1;if("string"==typeof e)try{e=new h(e,this.options)}catch(e){return!1}for(var t=0;t<this.set.length;t++)if(R(this.set[t],e,this.options))return!0;return!1},t.satisfies=A,t.maxSatisfying=function(e,t,i){var r=null,n=null;try{var s=new O(t,i)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&-1!==n.compare(e)||(n=new h(r=e,i)))}),r},t.minSatisfying=function(e,t,i){var r=null,n=null;try{var s=new O(t,i)}catch(e){return null}return e.forEach(function(e){s.test(e)&&(r&&1!==n.compare(e)||(n=new h(r=e,i)))}),r},t.minVersion=function(e,t){e=new O(e,t);var i=new h("0.0.0");if(e.test(i))return i;if(i=new h("0.0.0-0"),e.test(i))return i;i=null;for(var r=0;r<e.set.length;++r)e.set[r].forEach(function(e){var t=new h(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":i&&!m(i,t)||(i=t);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+e.operator)}});return i&&e.test(i)?i:null},t.validRange=function(e,t){try{return new O(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,i){return k(e,t,"<",i)},t.gtr=function(e,t,i){return k(e,t,">",i)},t.outside=k,t.prerelease=function(e,t){var i=u(e,t);return i&&i.prerelease.length?i.prerelease:null},t.intersects=function(e,t,i){return e=new O(e,i),t=new O(t,i),e.intersects(t)},t.coerce=function(e,t){if(e instanceof h)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;var i=null;if((t=t||{}).rtl){for(var r;(r=n[o.COERCERTL].exec(e))&&(!i||i.index+i[0].length!==e.length);)i&&r.index+r[0].length===i.index+i[0].length||(i=r),n[o.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;n[o.COERCERTL].lastIndex=-1}else i=e.match(n[o.COERCE]);return null===i?null:u(i[2]+"."+(i[3]||"0")+"."+(i[4]||"0"),t)}});const{promisify:is}=C.default,rs=ts.satisfies(process.version,">=10.12.0"),ns=e=>{if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(S.default.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}},ss=e=>$({},{mode:511,fs:I.default},e),os=e=>{const t=new Error(`operation not permitted, mkdir '${e}'`);return t.code="EPERM",t.errno=-4048,t.path=e,t.syscall="mkdir",t};var as=async(e,t)=>{ns(e),t=ss(t);const i=is(t.fs.mkdir),r=is(t.fs.stat);if(rs&&t.fs.mkdir===I.default.mkdir){const r=S.default.resolve(e);return await i(r,{mode:t.mode,recursive:!0}),r}const n=async e=>{try{return await i(e,t.mode),e}catch(t){if("EPERM"===t.code)throw t;if("ENOENT"===t.code){if(S.default.dirname(e)===e)throw os(e);if(t.message.includes("null bytes"))throw t;return await n(S.default.dirname(e)),n(e)}try{if(!(await r(e)).isDirectory())throw new Error("The path is not a directory")}catch(e){throw t}return e}};return n(S.default.resolve(e))};as.sync=(e,t)=>{if(ns(e),t=ss(t),rs&&t.fs.mkdirSync===I.default.mkdirSync){const i=S.default.resolve(e);return I.default.mkdirSync(i,{mode:t.mode,recursive:!0}),i}const i=e=>{try{t.fs.mkdirSync(e,t.mode)}catch(r){if("EPERM"===r.code)throw r;if("ENOENT"===r.code){if(S.default.dirname(e)===e)throw os(e);if(r.message.includes("null bytes"))throw r;return i(S.default.dirname(e)),i(e)}try{if(!t.fs.statSync(e).isDirectory())throw new Error("The path is not a directory")}catch(e){throw r}}return e};return i(S.default.resolve(e))};var ls=_(function(e,t){const i=O.default.homedir(),{env:r}=process;t.data=r.XDG_DATA_HOME||(i?S.default.join(i,".local","share"):void 0),t.config=r.XDG_CONFIG_HOME||(i?S.default.join(i,".config"):void 0),t.cache=r.XDG_CACHE_HOME||(i?S.default.join(i,".cache"):void 0),t.runtime=r.XDG_RUNTIME_DIR||void 0,t.dataDirs=(r.XDG_DATA_DIRS||"/usr/local/share/:/usr/share/").split(":"),t.data&&t.dataDirs.unshift(t.data),t.configDirs=(r.XDG_CONFIG_DIRS||"/etc/xdg").split(":"),t.config&&t.configDirs.unshift(t.config)}),cs=_(function(e){!function(){var t;function i(e,r){var n=this instanceof i?this:t;if(n.reset(r),"string"==typeof e&&e.length>0&&n.hash(e),n!==this)return n}i.prototype.hash=function(e){var t,i,r,n,s;switch(this.len+=s=e.length,i=this.k1,r=0,this.rem){case 0:i^=s>r?65535&e.charCodeAt(r++):0;case 1:i^=s>r?(65535&e.charCodeAt(r++))<<8:0;case 2:i^=s>r?(65535&e.charCodeAt(r++))<<16:0;case 3:i^=s>r?(255&e.charCodeAt(r))<<24:0,i^=s>r?(65280&e.charCodeAt(r++))>>8:0}if(this.rem=s+this.rem&3,(s-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=i=13715*(i=(i=11601*i+3432906752*(65535&i)&4294967295)<<15|i>>>17)+461832192*(65535&i)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(r>=s);)i=65535&e.charCodeAt(r++)^(65535&e.charCodeAt(r++))<<8^(65535&e.charCodeAt(r++))<<16,i^=(255&(n=e.charCodeAt(r++)))<<24^(65280&n)>>8;switch(i=0,this.rem){case 3:i^=(65535&e.charCodeAt(r+2))<<16;case 2:i^=(65535&e.charCodeAt(r+1))<<8;case 1:i^=65535&e.charCodeAt(r)}this.h1=t}return this.k1=i,this},i.prototype.result=function(){var e,t;return t=this.h1,(e=this.k1)>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},i.prototype.reset=function(e){return this.h1="number"==typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new i,e.exports=i}()}),us=ps;ps.strict=fs,ps.loose=ms;var hs=Object.prototype.toString,ds={"[object Int8Array]":!0,"[object Int16Array]":!0,"[object Int32Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Uint16Array]":!0,"[object Uint32Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0};function ps(e){return fs(e)||ms(e)}function fs(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function ms(e){return ds[hs.call(e)]}var ys=us.strict,gs=function(e){if(ys(e)){var t=Buffer.from(e.buffer);return e.byteLength!==e.buffer.byteLength&&(t=t.slice(e.byteOffset,e.byteOffset+e.byteLength)),t}return Buffer.from(e)},ws=function(e,t,i,r){i instanceof Function&&(r=i,i={});const n=async function(e,t,i={}){let r,n;"string"==typeof i&&(i={encoding:i});const s=ai(Ts(()=>n)),o=S.default.resolve(e);try{await function(e){return new Promise(t=>{Ss[e]||(Ss[e]=[]),Ss[e].push(t),1===Ss[e].length&&t()})}(o);const a=await Es(I.default.realpath)(e).catch(()=>e);if(n=xs(a),!i.mode||!i.chown){const e=await Es(I.default.stat)(a).catch(()=>{});e&&(null==i.mode&&(i.mode=e.mode),null==i.chown&&process.getuid&&(i.chown={uid:e.uid,gid:e.gid}))}r=await Es(I.default.open)(n,"w",i.mode),i.tmpfileCreated&&await i.tmpfileCreated(n),us(t)&&(t=gs(t)),Buffer.isBuffer(t)?await Es(I.default.write)(r,t,0,t.length,0):null!=t&&await Es(I.default.write)(r,String(t),0,String(i.encoding||"utf8")),!1!==i.fsync&&await Es(I.default.fsync)(r),await Es(I.default.close)(r),r=null,i.chown&&await Es(I.default.chown)(n,i.chown.uid,i.chown.gid).catch(e=>{if(!Cs(e))throw e}),i.mode&&await Es(I.default.chmod)(n,i.mode).catch(e=>{if(!Cs(e))throw e}),await Es(I.default.rename)(n,a)}finally{r&&await Es(I.default.close)(r).catch(()=>{}),s(),await Es(I.default.unlink)(n).catch(()=>{}),Ss[o].shift(),Ss[o].length>0?Ss[o][0]():delete Ss[o]}}(e,t,i);return r&&n.then(r,r),n},bs=xs,vs=Ts;const{promisify:Es}=C.default,Ss={},Is=function(){try{return 0}catch(e){return 0}}();let Os=0;function xs(e){return e+"."+cs(__filename).hash(String(process.pid)).hash(String(Is)).hash(String(++Os)).result()}function Ts(e){return()=>{try{I.default.unlinkSync("function"==typeof e?e():e)}catch(e){}}}function Cs(e){return"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}ws.sync=function(e,t,i){"string"==typeof i?i={encoding:i}:i||(i={});try{e=I.default.realpathSync(e)}catch(e){}const r=xs(e);if(!i.mode||!i.chown)try{const t=I.default.statSync(e);(i=Object.assign({},i)).mode||(i.mode=t.mode),!i.chown&&process.getuid&&(i.chown={uid:t.uid,gid:t.gid})}catch(e){}let n;const s=Ts(r),o=ai(s);let a=!0;try{if(n=I.default.openSync(r,"w",i.mode||438),i.tmpfileCreated&&i.tmpfileCreated(r),us(t)&&(t=gs(t)),Buffer.isBuffer(t)?I.default.writeSync(n,t,0,t.length,0):null!=t&&I.default.writeSync(n,String(t),0,String(i.encoding||"utf8")),!1!==i.fsync&&I.default.fsyncSync(n),I.default.closeSync(n),n=null,i.chown)try{I.default.chownSync(r,i.chown.uid,i.chown.gid)}catch(e){if(!Cs(e))throw e}if(i.mode)try{I.default.chmodSync(r,i.mode)}catch(e){if(!Cs(e))throw e}I.default.renameSync(r,e),a=!1}finally{if(n)try{I.default.closeSync(n)}catch(e){}o(),a&&s()}},ws._getTmpname=bs,ws._cleanupOnExit=vs;var Rs=e=>{const t=typeof e;return null!==e&&("object"===t||"function"===t)};const As=["__proto__","prototype","constructor"];function ks(e){const t=e.split("."),i=[];for(let e=0;e<t.length;e++){let r=t[e];for(;"\\"===r[r.length-1]&&void 0!==t[e+1];)r=r.slice(0,-1)+".",r+=t[++e];i.push(r)}return i.some(e=>As.includes(e))?[]:i}var Ps={get(e,t,i){if(!Rs(e)||"string"!=typeof t)return void 0===i?e:i;const r=ks(t);if(0!==r.length){for(let t=0;t<r.length;t++){if(!Object.prototype.propertyIsEnumerable.call(e,r[t]))return i;if(null==(e=e[r[t]])){if(t!==r.length-1)return i;break}}return e}},set(e,t,i){if(!Rs(e)||"string"!=typeof t)return e;const r=e,n=ks(t);for(let t=0;t<n.length;t++){const r=n[t];Rs(e[r])||(e[r]={}),t===n.length-1&&(e[r]=i),e=e[r]}return r},delete(e,t){if(!Rs(e)||"string"!=typeof t)return!1;const i=ks(t);for(let t=0;t<i.length;t++){const r=i[t];if(t===i.length-1)return delete e[r],!0;if(!Rs(e=e[r]))return!1}},has(e,t){if(!Rs(e)||"string"!=typeof t)return!1;const i=ks(t);if(0===i.length)return!1;for(let t=0;t<i.length;t++){if(!Rs(e))return!1;if(!(i[t]in e))return!1;e=e[i[t]]}return!0}};const Ns=ls.config||S.default.join(O.default.tmpdir(),(e=>{if(!Number.isFinite(32))throw new TypeError("Expected a finite number");return A.default.randomBytes(Math.ceil(16)).toString("hex").slice(0,32)})()),Ls={mode:448},js={mode:384};let $s;const Ds=()=>($s||($s=new class{constructor(e,t,i={}){const r=i.globalConfigPath?S.default.join(e,"config.json"):S.default.join("configstore",`${e}.json`);this.path=i.configPath||S.default.join(Ns,r),t&&(this.all=$({},t,this.all))}get all(){try{return JSON.parse(pr.readFileSync(this.path,"utf8"))}catch(e){if("ENOENT"===e.code)return{};if("EACCES"===e.code&&(e.message=`${e.message}\nYou don't have access to this file.\n`),"SyntaxError"===e.name)return ws.sync(this.path,"",js),{};throw e}}set all(e){try{as.sync(S.default.dirname(this.path),Ls),ws.sync(this.path,JSON.stringify(e,void 0,"\t"),js)}catch(e){throw"EACCES"===e.code&&(e.message=`${e.message}\nYou don't have access to this file.\n`),e}}get size(){return Object.keys(this.all||{}).length}get(e){return Ps.get(this.all,e)}set(e,t){const i=this.all;if(1===arguments.length)for(const t of Object.keys(e))Ps.set(i,t,e[t]);else Ps.set(i,e,t);this.all=i}has(e){return Ps.has(this.all,e)}delete(e){const t=this.all;Ps.delete(t,e),this.all=t}clear(){this.all={}}}("gatsby",{},{globalConfigPath:!0})),$s),_s=(e=1)=>new Promise(t=>{process.stderr.moveCursor(0,-e,()=>{process.stderr.write("[2K"),t()})}),Bs=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^a-z0-9_.]+/g,"-").replace(/^[_\-.]+|[_\-.]+$/g,""),Ms=e=>{const t=Ds();return t.get("cli.packageManager")||(null!=e&&e.includes("yarn")?(t.set("cli.packageManager","yarn"),"yarn"):(t.set("cli.packageManager","npm"),"npm"))},Fs=(e,t)=>require.resolve(e,t),Gs=e=>null!=e&&"object"!=typeof e&&"function"!=typeof e;class Us extends rt.Form{async renderChoice(e,t){await this.onChoice(e,t);const{state:i,styles:r}=this;let{cursor:n,initial:s="",name:o,input:a=""}=e;const{muted:l,submitted:c,primary:u,danger:h}=r,d=this.index===t,p=e.validate||(()=>!0),f=await this.choiceSeparator(e,t);let m=e.message;"right"===this.align&&(m=m.padStart(this.longest+1," ")),"left"===this.align&&(m=m.padEnd(this.longest+1," "));const y=this.values[o]=a||s;let g=a?"success":"dark";!0!==await p.call(e,y,this.state)&&(g="danger");const w=(0,r[g])(await this.indicator(e,t))+(e.pad||""),b=this.indent(e),v=()=>[b,w,m+f,a].filter(Boolean).join(" ");return i.submitted?(m=G.unstyle(m),a=c(a),v()):(a=e.format?await e.format.call(this,a,e,t):((e,t={})=>{e.cursorHide();let{input:i="",initial:r="",pos:n,showCursor:s=!0,color:o}=t;const a=o||e.styles.placeholder,l=e.styles.primary.inverse;let c=e=>l(e),u=i,h=c(" ");if(e.blink&&!0===e.blink.off&&(c=e=>e,h=""),s&&0===n&&""===r&&""===i)return c(" ");if(s&&0===n&&(i===r||""===i))return c(r[0])+a(r.slice(1));r=Gs(r)?`${r}`:"",i=Gs(i)?`${i}`:"";const d=r&&r.startsWith(i)&&r!==i;let p=d?c(r[i.length]):h;if(n!==i.length&&!0===s&&(u=i.slice(0,n)+c(i[n])+i.slice(n+1),p=""),!1===s&&(p=""),d){const t=e.styles.unstyle(u+p);return u+p+a(r.slice(t.length))}return u+p})(this,{input:a,initial:s,pos:n,showCursor:d,color:this.styles.muted}),this.isValue(a)||(a=this.styles.muted(this.symbols.ellipsis)),e.result&&(this.values[o]=await e.result.call(this,y,e,t)),d&&(m=u(m)),e.error?a+=(a?" ":"")+h(e.error.trim()):e.hint&&d&&(a+=(a?`\n${" ".repeat(this.longest+6)}`:"")+l(e.hint.trim())),v())}}class qs extends rt.Input{constructor(e){super(e),this.cursorShow()}async render(){var e;const t=this.state.size,i=await this.prefix(),r=await this.separator(),n=await this.message();let s=[i," ",this.styles.muted(await this.element("hint")),r].filter(Boolean).join("");this.state.prompt=s;const o=await this.header();let a=await this.format();const l=this.styles.unstyle(a);null!=(e=this.input)&&e.length||!l.length?this.cursorShow():(this.cursorHide(),a=this.styles.highlight(l[0])+this.styles.placeholder(l.slice(1)));const c=await this.footer();s+=" "+a,this.clear(t),this.write([o,n,s,await this.error(),c].filter(Boolean).join("\n")),this.restore()}}class zs extends rt.Select{format(){return!this.state.submitted||this.state.cancelled?"":Array.isArray(this.selected)?this.selected.map(e=>this.styles.primary(this.symbols.middot+" "+e.message)).join("\n"):this.styles.primary(this.symbols.middot+" "+this.selected.message)}async indicator(e){return this.multiple&&"separator"!==e.role&&"___done"!==e.name?this.symbols.radio[e.enabled?"on":"off"]:""}async pointer(e,t){const i=await this.element("pointer",e,t);if(!i)return;const r=this.index===t,n=r?this.styles.primary:e=>e,s=await this.resolve(i[r?"on":"off"]||i,this.state);return r?n(s):" ".repeat(s.length)}async render(){const{submitted:e,size:t}=this.state;let i="";const r=await this.header(),n=await this.prefix(),s=await this.message();!1!==this.options.promptLine&&(i=[n,s].join(" "),this.state.prompt=i);const o=await this.format(),a=await this.error()||await this.hint(),l=await this.renderChoices(),c=await this.footer();o&&(i+="\n"+o),a&&!i.includes(a)&&(i+="\n"+a),e&&!o&&!l.trim()&&this.multiple&&null!=this.emptyError&&(i+=this.styles.danger(this.emptyError)),this.clear(t),this.write([r,i,l,c].filter(Boolean).join("\n")),this.write(this.margin[2]),this.restore()}}class Hs extends zs{constructor(e){super($({},e,{multiple:!0}))}toggle(e,t){super.toggle(e,t)}async toChoices(e,t){const i=[{role:"separator"},{message:this.styles.bold("Done"),name:"___done"}];return"function"==typeof e&&(e=await e.call(this)),e instanceof Promise&&(e=await e),super.toChoices([...e,...i],t)}submit(){return"___done"===this.focused.name?super.submit():this.space()}next(){return this.index===this.choices.length-1?super.next():this.end()}}const Vs=e=>(e.register("textinput",qs),e.register("selectinput",zs),e.register("multiselectinput",Hs),e.register("forminput",Us),e);var Ys=function(){function e(e,t){for(var i=0;i<t.length;i++){var r=t[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,i,r){return i&&e(t.prototype,i),r&&e(t,r),t}}(),Xs=Object.freeze(Object.defineProperties(["",""],{raw:{value:Object.freeze(["",""])}}));function Ws(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var Ks=function(){function e(){for(var t=this,i=arguments.length,r=Array(i),n=0;n<i;n++)r[n]=arguments[n];return Ws(this,e),this.tag=function(e){for(var i=arguments.length,r=Array(i>1?i-1:0),n=1;n<i;n++)r[n-1]=arguments[n];return"function"==typeof e?t.interimTag.bind(t,e):"string"==typeof e?t.transformEndResult(e):(e=e.map(t.transformString.bind(t)),t.transformEndResult(e.reduce(t.processSubstitutions.bind(t,r))))},r.length>0&&Array.isArray(r[0])&&(r=r[0]),this.transformers=r.map(function(e){return"function"==typeof e?e():e}),this.tag}return Ys(e,[{key:"interimTag",value:function(e,t){for(var i=arguments.length,r=Array(i>2?i-2:0),n=2;n<i;n++)r[n-2]=arguments[n];return this.tag(Xs,e.apply(void 0,[t].concat(r)))}},{key:"processSubstitutions",value:function(e,t,i){var r=this.transformSubstitution(e.shift(),t);return"".concat(t,r,i)}},{key:"transformString",value:function(e){return this.transformers.reduce(function(e,t){return t.onString?t.onString(e):e},e)}},{key:"transformSubstitution",value:function(e,t){return this.transformers.reduce(function(e,i){return i.onSubstitution?i.onSubstitution(e,t):e},e)}},{key:"transformEndResult",value:function(e){return this.transformers.reduce(function(e,t){return t.onEndResult?t.onEndResult(e):e},e)}}]),e}(),Js=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}};function Zs(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}var Qs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(t){if("initial"===e){var i=t.match(/^[^\S\n]*(?=\S)/gm),r=i&&Math.min.apply(Math,Zs(i.map(function(e){return e.length})));if(r){var n=new RegExp("^.{"+r+"}","gm");return t.replace(n,"")}return t}if("all"===e)return t.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+e)}}},eo=function(e,t){return{onEndResult:function(i){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return i.replace(e,t)}}},to=function(e,t){return{onSubstitution:function(i,r){if(null==e||null==t)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==i?i:i.toString().replace(e,t)}}},io={separator:"",conjunction:"",serial:!1},ro=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:io;return{onSubstitution:function(t,i){if(Array.isArray(t)){var r=t.length,n=e.separator,s=e.conjunction,o=e.serial,a=i.match(/(\n?[^\S\n]+)$/);if(t=t.join(a?n+a[1]:n+" "),s&&r>1){var l=t.lastIndexOf(n);t=t.slice(0,l)+(o?n:"")+" "+s+t.slice(l+1)}}return t}}},no=function(e){return{onSubstitution:function(t,i){if(null==e||"string"!=typeof e)throw new Error("You need to specify a string character to split by.");return"string"==typeof t&&t.includes(e)&&(t=t.split(e)),t}}},so=function(e){return null!=e&&!Number.isNaN(e)&&"boolean"!=typeof e};new Ks(ro({separator:","}),Qs,Js),new Ks(ro({separator:",",conjunction:"and"}),Qs,Js),new Ks(ro({separator:",",conjunction:"or"}),Qs,Js),new Ks(no("\n"),function(){return{onSubstitution:function(e){return Array.isArray(e)?e.filter(so):so(e)?e:""}}},ro,Qs,Js),new Ks(no("\n"),ro,Qs,Js,to(/&/g,"&amp;"),to(/</g,"&lt;"),to(/>/g,"&gt;"),to(/"/g,"&quot;"),to(/'/g,"&#x27;"),to(/`/g,"&#x60;")),new Ks(eo(/(?:\n(?:\s*))+/g," "),Js),new Ks(eo(/(?:\n\s*)/g,""),Js),new Ks(ro({separator:","}),eo(/(?:\s+)/g," "),Js),new Ks(ro({separator:",",conjunction:"or"}),eo(/(?:\s+)/g," "),Js),new Ks(ro({separator:",",conjunction:"and"}),eo(/(?:\s+)/g," "),Js),new Ks(ro,Qs,Js),new Ks(ro,eo(/(?:\s+)/g," "),Js);var oo=new Ks(Qs,Js);new Ks(Qs("all"),Js);var ao=_(function(e){const t=e.exports;e.exports.default=t;const i="[",r="]",n="",s=";",o="Apple_Terminal"===process.env.TERM_PROGRAM;t.cursorTo=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");return"number"!=typeof t?i+(e+1)+"G":i+(t+1)+";"+(e+1)+"H"},t.cursorMove=(e,t)=>{if("number"!=typeof e)throw new TypeError("The `x` argument is required");let r="";return e<0?r+=i+-e+"D":e>0&&(r+=i+e+"C"),t<0?r+=i+-t+"A":t>0&&(r+=i+t+"B"),r},t.cursorUp=(e=1)=>i+e+"A",t.cursorDown=(e=1)=>i+e+"B",t.cursorForward=(e=1)=>i+e+"C",t.cursorBackward=(e=1)=>i+e+"D",t.cursorLeft="[G",t.cursorSavePosition=o?"7":"[s",t.cursorRestorePosition=o?"8":"[u",t.cursorGetPosition="[6n",t.cursorNextLine="[E",t.cursorPrevLine="[F",t.cursorHide="[?25l",t.cursorShow="[?25h",t.eraseLines=e=>{let i="";for(let r=0;r<e;r++)i+=t.eraseLine+(r<e-1?t.cursorUp():"");return e&&(i+=t.cursorLeft),i},t.eraseEndLine="[K",t.eraseStartLine="[1K",t.eraseLine="[2K",t.eraseDown="[J",t.eraseUp="[1J",t.eraseScreen="[2J",t.scrollUp="[S",t.scrollDown="[T",t.clearScreen="c",t.clearTerminal="win32"===process.platform?`${t.eraseScreen}[0f`:`${t.eraseScreen}[3J[H`,t.beep=n,t.link=(e,t)=>[r,"8",s,s,t,n,e,r,"8",s,s,n].join(""),t.image=(e,t={})=>{let i=`${r}1337;File=inline=1`;return t.width&&(i+=`;width=${t.width}`),t.height&&(i+=`;height=${t.height}`),!1===t.preserveAspectRatio&&(i+=";preserveAspectRatio=0"),i+":"+e.toString("base64")+n},t.iTerm={setCwd:(e=process.cwd())=>`${r}50;CurrentDir=${e}${n}`,annotation:(e,t={})=>{let i=`${r}1337;`;const s=void 0!==t.x,o=void 0!==t.y;if((s||o)&&(!s||!o||void 0===t.length))throw new Error("`x`, `y` and `length` must be defined when `x` or `y` is defined");return e=e.replace(/\|/g,""),i+=t.isHidden?"AddHiddenAnnotation=":"AddAnnotation=",i+=t.length>0?(s?[e,t.length,t.x,t.y]:[t.length,e]).join("|"):e,i+n}}}),lo=(e,t=process.argv)=>{const i=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(i+e),n=t.indexOf("--");return-1!==r&&(-1===n||r<n)};const{env:co}=process;let uo;function ho(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function po(e,t){if(0===uo)return 0;if(lo("color=16m")||lo("color=full")||lo("color=truecolor"))return 3;if(lo("color=256"))return 2;if(e&&!t&&void 0===uo)return 0;const i=uo||0;if("dumb"===co.TERM)return i;if("win32"===process.platform){const e=O.default.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in co)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in co)||"codeship"===co.CI_NAME?1:i;if("TEAMCITY_VERSION"in co)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(co.TEAMCITY_VERSION)?1:0;if("GITHUB_ACTIONS"in co)return 1;if("truecolor"===co.COLORTERM)return 3;if("TERM_PROGRAM"in co){const e=parseInt((co.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(co.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(co.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(co.TERM)||"COLORTERM"in co?1:i}function fo(e){if(/^\d{3,4}$/.test(e)){const t=/(\d{1,2})(\d{2})/.exec(e);return{major:0,minor:parseInt(t[1],10),patch:parseInt(t[2],10)}}const t=(e||"").split(".").map(e=>parseInt(e,10));return{major:t[0],minor:t[1],patch:t[2]}}function mo(e){const{env:t}=process;if("FORCE_HYPERLINK"in t)return!(t.FORCE_HYPERLINK.length>0&&0===parseInt(t.FORCE_HYPERLINK,10));if(lo("no-hyperlink")||lo("no-hyperlinks")||lo("hyperlink=false")||lo("hyperlink=never"))return!1;if(lo("hyperlink=true")||lo("hyperlink=always"))return!0;if(!function(e){return ho(po(e,e&&e.isTTY))}(e))return!1;if(e&&!e.isTTY)return!1;if("win32"===process.platform)return!1;if("CI"in t)return!1;if("TEAMCITY_VERSION"in t)return!1;if("TERM_PROGRAM"in t){const e=fo(t.TERM_PROGRAM_VERSION);switch(t.TERM_PROGRAM){case"iTerm.app":return 3===e.major?e.minor>=1:e.major>3}}if("VTE_VERSION"in t){if("0.50.0"===t.VTE_VERSION)return!1;const e=fo(t.VTE_VERSION);return e.major>0||e.minor>=50}return!1}lo("no-color")||lo("no-colors")||lo("color=false")||lo("color=never")?uo=0:(lo("color")||lo("colors")||lo("color=true")||lo("color=always"))&&(uo=1),"FORCE_COLOR"in co&&(uo="true"===co.FORCE_COLOR?1:"false"===co.FORCE_COLOR?0:0===co.FORCE_COLOR.length?1:Math.min(parseInt(co.FORCE_COLOR,10),3)),ho(po(!0,k.default.isatty(1))),ho(po(!0,k.default.isatty(2)));var yo={supportsHyperlink:mo,stdout:mo(process.stdout),stderr:mo(process.stderr)};const go=["target"];var wo=_(function(e){const t=(e,t,i={})=>{let{target:r="stdout"}=i,n=function(e,t){if(null==e)return{};var i,r,n={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(i=s[r])>=0||(n[i]=e[i]);return n}(i,go);return yo[r]?ao.link(e,t):!1===n.fallback?e:"function"==typeof n.fallback?n.fallback(e,t):`${e} (‚Äã${t}‚Äã)`};e.exports=(e,i,r={})=>t(e,i,r),e.exports.stderr=(e,i,r={})=>t(e,i,$({target:"stderr"},r)),e.exports.isSupported=yo.stdout,e.exports.stderr.isSupported=yo.stderr}),bo={"gatsby-source-wordpress":{type:"object",keys:{url:{type:"string",flags:{description:"This should be the full url of your GraphQL endpoint set up by WP GraphQL",presence:"required"}}}},"gatsby-source-contentful":{type:"object",externals:[{}],keys:{accessToken:{type:"string",flags:{description:"Contentful delivery api key, when using the Preview API use your Preview API key",presence:"required"}},spaceId:{type:"string",flags:{description:"Contentful spaceId",presence:"required"}},host:{type:"string",flags:{description:"The base host for all the API requests, by default it's 'cdn.contentful.com', if you want to use the Preview API set it to 'preview.contentful.com'. You can use your own host for debugging/testing purposes as long as you respect the same Contentful JSON structure.",default:"cdn.contentful.com"}},environment:{type:"string",flags:{description:"The environment to pull the content from, for more info on environments check out this [Guide](https://www.contentful.com/developers/docs/concepts/multiple-environments/).",default:"master"}},downloadLocal:{type:"boolean",flags:{description:"Downloads and caches ContentfulAsset's to the local filesystem. Allows you to query a ContentfulAsset's localFile field, which is not linked to Contentful's CDN. Useful for reducing data usage.\nYou can pass in any other options available in the [contentful.js SDK](https://github.com/contentful/contentful.js#configuration).",default:!1}},localeFilter:{type:"function",flags:{description:"Possibility to limit how many locales/nodes are created in GraphQL. This can limit the memory usage by reducing the amount of nodes created. Useful if you have a large space in contentful and only want to get the data from one selected locale.\nFor example, to filter locales on only germany `localeFilter: locale => locale.code === 'de-DE'`\n\nList of locales and their codes can be found in Contentful app -> Settings -> Locales"}},forceFullSync:{type:"boolean",flags:{description:"Prevents the use of sync tokens when accessing the Contentful API.",default:!1}},pageLimit:{type:"number",flags:{description:"Number of entries to retrieve from Contentful at a time. Due to some technical limitations, the response payload should not be greater than 7MB when pulling content from Contentful. If you encounter this issue you can set this param to a lower number than 100, e.g 50.",default:100},rules:[{name:"integer"}]},assetDownloadWorkers:{type:"number",flags:{description:"Number of workers to use when downloading contentful assets. Due to technical limitations, opening too many concurrent requests can cause stalled downloads. If you encounter this issue you can set this param to a lower number than 50, e.g 25.",default:50},rules:[{name:"integer"}]},proxy:{type:"object",flags:{description:"Axios proxy configuration. See the [axios request config documentation](https://github.com/mzabriskie/axios#request-config) for further information about the supported values."},keys:{host:{type:"string",flags:{presence:"required"}},port:{type:"number",flags:{presence:"required"}},auth:{type:"object",keys:{username:{type:"string"},password:{type:"string"}}}}},useNameForId:{type:"boolean",flags:{description:"Use the content's `name` when generating the GraphQL schema e.g. a Content Type called `[Component] Navigation bar` will be named `contentfulComponentNavigationBar`.\n    When set to `false`, the content's internal ID will be used instead e.g. a Content Type with the ID `navigationBar` will be called `contentfulNavigationBar`.\n\n    Using the ID is a much more stable property to work with as it will change less often. However, in some scenarios, Content Types' IDs will be auto-generated (e.g. when creating a new Content Type without specifying an ID) which means the name in the GraphQL schema will be something like `contentfulC6XwpTaSiiI2Ak2Ww0oi6qa`. This won't change and will still function perfectly as a valid field name but it is obviously pretty ugly to work with.\n\n    If you are confident your Content Types will have natural-language IDs (e.g. `blogPost`), then you should set this option to `false`. If you are unable to ensure this, then you should leave this option set to `true` (the default).",default:!0}},plugins:{type:"array"},richText:{type:"object",flags:{default:{}},keys:{resolveFieldLocales:{type:"boolean",flags:{description:"If you want to resolve the locales in fields of assets and entries that are referenced by rich text (e.g., via embedded entries or entry hyperlinks), set this to `true`. Otherwise, fields of referenced assets or entries will be objects keyed by locale.",default:!1}}}}}},"gatsby-source-sanity":{type:"object",keys:{projectId:{type:"string",flags:{description:"Your Sanity project's ID",presence:"required"}},dataset:{type:"string",flags:{description:"The dataset to fetch from",presence:"required"}}}},"gatsby-source-shopify":{type:"object",keys:{shopName:{type:"string",flags:{description:"The domain name of your Shopify shop",presence:"required"}},accessToken:{type:"string",flags:{description:"An API access token to your Shopify shop",presence:"required"}}}},"gatsby-source-datocms":{type:"object",keys:{apiToken:{type:"string",flags:{description:"Your read-only API token under the Settings > API tokens section of your administrative area in DatoCMS",presence:"required"}}}},"gatsby-source-agility":{type:"object",keys:{guid:{type:"string",flags:{description:"your Agility Content Fetch API Guid",presence:"required"}}}},"gatsby-plugin-postcss":{},"gatsby-plugin-styled-components":{},"gatsby-plugin-emotion":{},"gatsby-plugin-sass":{},"gatsby-plugin-theme-ui":{},"gatsby-plugin-google-analytics":{type:"object",keys:{trackingId:{type:"string",flags:{description:"The property ID; the tracking code won't be generated without it",presence:"required"}},head:{type:"boolean",flags:{default:!1,description:"Defines where to place the tracking script - `true` in the head and `false` in the body"}},anonymize:{type:"boolean",flags:{default:!1}},respectDNT:{type:"boolean",flags:{default:!1}},exclude:{type:"array",flags:{default:[],description:"Avoids sending pageview hits from custom paths"},items:[{type:"string"}]},pageTransitionDelay:{type:"number",flags:{default:0,description:"Delays sending pageview hits on route update (in milliseconds)"}},optimizeId:{type:"string",flags:{description:"Enables Google Optimize using your container Id"}},experimentId:{type:"string",flags:{description:"Enables Google Optimize Experiment ID"}},variationId:{type:"string",flags:{description:"Set Variation ID. 0 for original 1,2,3...."}},defer:{type:"boolean",flags:{description:"Defers execution of google analytics script after page load"}},sampleRate:{type:"number"},siteSpeedSampleRate:{type:"number"},cookieDomain:{type:"string"}}},"gatsby-plugin-sitemap":{},"gatsby-plugin-mdx":{},"gatsby-plugin-offline":{},"gatsby-plugin-manifest":{type:"object",keys:{name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"},localize:{type:"array",items:[{type:"object",keys:{start_url:{type:"string"},name:{type:"string"},short_name:{type:"string"},description:{type:"string"},lang:{type:"string"}}}]},start_url:{type:"string"},background_color:{type:"string"},theme_color:{type:"string"},display:{type:"string"},legacy:{type:"boolean"},include_favicon:{type:"boolean"},icon:{type:"string"},theme_color_in_head:{type:"boolean"},crossOrigin:{type:"string",flags:{only:!0},allow:["use-credentials","anonymous"]},cache_busting_mode:{type:"string",flags:{only:!0},allow:["query","name","none"]},icons:{type:"array",items:[{type:"object",keys:{src:{type:"string"},sizes:{type:"string"},type:{type:"string"},purpose:{type:"string"}}}]},icon_options:{type:"object",keys:{purpose:{type:"string"}}}}}};const vo=["string","boolean","number"];function Eo(e){const t=[nt,st];for(const i of t)if(e in i)return i[e].message;return e}function So(e){return G.blueBright(wo("the plugin docs",`https://www.gatsbyjs.com/plugins/${e}/`,{fallback:(e,t)=>t}))}const Io=([e,t])=>{var i;return"required"===(null==t||null==(i=t.flags)?void 0:i.presence)},Oo=([e,t])=>{var i,r,n,s;return{name:e,initial:(null==(i=t.flags)?void 0:i.default)&&vo.includes(typeof(null==(r=t.flags)?void 0:r.default))?null==(n=t.flags)?void 0:n.default.toString():void 0,message:e,hint:null==(s=t.flags)?void 0:s.description}};function xo(e,t){let i=0;for(let r of t.patterns){let t=e.match(r);if(t)for(let e of t)i+=e.length}return e.length-i}const To=process.stdout.columns,Co=T.default.Readable,Ro=Symbol("buffer"),Ao=Symbol("type");class ko{constructor(){this[Ao]="";const e=arguments[0],t=arguments[1],i=[];if(e){const t=e,r=Number(t.length);for(let e=0;e<r;e++){const r=t[e];let n;n=r instanceof Buffer?r:ArrayBuffer.isView(r)?Buffer.from(r.buffer,r.byteOffset,r.byteLength):r instanceof ArrayBuffer?Buffer.from(r):r instanceof ko?r[Ro]:Buffer.from("string"==typeof r?r:String(r)),i.push(n)}}this[Ro]=Buffer.concat(i);let r=t&&void 0!==t.type&&String(t.type).toLowerCase();r&&!/[^\u0020-\u007E]/.test(r)&&(this[Ao]=r)}get size(){return this[Ro].length}get type(){return this[Ao]}text(){return Promise.resolve(this[Ro].toString())}arrayBuffer(){const e=this[Ro],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new Co;return e._read=function(){},e.push(this[Ro]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],i=arguments[1];let r,n;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),n=void 0===i?e:i<0?Math.max(e+i,0):Math.min(i,e);const s=Math.max(n-r,0),o=this[Ro].slice(r,r+s),a=new ko([],{type:arguments[2]});return a[Ro]=o,a}}function Po(e,t,i){Error.call(this,e),this.message=e,this.type=t,i&&(this.code=this.errno=i.code),Error.captureStackTrace(this,this.constructor)}let No;Object.defineProperties(ko.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(ko.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),(Po.prototype=Object.create(Error.prototype)).constructor=Po,Po.prototype.name="FetchError";try{No=require("encoding").convert}catch(e){}const Lo=Symbol("Body internals"),jo=T.default.PassThrough;function $o(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.size;let n=void 0===r?0:r;var s=i.timeout;let o=void 0===s?0:s;null==e?e=null:_o(e)?e=Buffer.from(e.toString()):Bo(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof T.default||(e=Buffer.from(String(e)))),this[Lo]={body:e,disturbed:!1,error:null},this.size=n,this.timeout=o,e instanceof T.default&&e.on("error",function(e){const i="AbortError"===e.name?e:new Po(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[Lo].error=i})}function Do(){var e=this;if(this[Lo].disturbed)return $o.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[Lo].disturbed=!0,this[Lo].error)return $o.Promise.reject(this[Lo].error);let t=this.body;if(null===t)return $o.Promise.resolve(Buffer.alloc(0));if(Bo(t)&&(t=t.stream()),Buffer.isBuffer(t))return $o.Promise.resolve(t);if(!(t instanceof T.default))return $o.Promise.resolve(Buffer.alloc(0));let i=[],r=0,n=!1;return new $o.Promise(function(s,o){let a;e.timeout&&(a=setTimeout(function(){n=!0,o(new Po(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))},e.timeout)),t.on("error",function(t){"AbortError"===t.name?(n=!0,o(t)):o(new Po(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))}),t.on("data",function(t){if(!n&&null!==t){if(e.size&&r+t.length>e.size)return n=!0,void o(new Po(`content size at ${e.url} over limit: ${e.size}`,"max-size"));r+=t.length,i.push(t)}}),t.on("end",function(){if(!n){clearTimeout(a);try{s(Buffer.concat(i,r))}catch(t){o(new Po(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}})})}function _o(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function Bo(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function Mo(e){let t,i,r=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return r instanceof T.default&&"function"!=typeof r.getBoundary&&(t=new jo,i=new jo,r.pipe(t),r.pipe(i),e[Lo].body=t,r=i),r}function Fo(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":_o(e)?"application/x-www-form-urlencoded;charset=UTF-8":Bo(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof T.default?null:"text/plain;charset=UTF-8"}function Go(e){const t=e.body;return null===t?0:Bo(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}$o.prototype={get body(){return this[Lo].body},get bodyUsed(){return this[Lo].disturbed},arrayBuffer(){return Do.call(this).then(function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)})},blob(){let e=this.headers&&this.headers.get("content-type")||"";return Do.call(this).then(function(t){return Object.assign(new ko([],{type:e.toLowerCase()}),{[Ro]:t})})},json(){var e=this;return Do.call(this).then(function(t){try{return JSON.parse(t.toString())}catch(t){return $o.Promise.reject(new Po(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}})},text(){return Do.call(this).then(function(e){return e.toString()})},buffer(){return Do.call(this)},textConverted(){var e=this;return Do.call(this).then(function(t){return function(e,t){if("function"!=typeof No)throw new Error("The package `encoding` must be installed to use the textConverted() function");const i=t.get("content-type");let r,n,s="utf-8";return i&&(r=/charset=([^;]*)/i.exec(i)),n=e.slice(0,1024).toString(),!r&&n&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!r&&n&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(n),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&n&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),r&&(s=r.pop(),"gb2312"!==s&&"gbk"!==s||(s="gb18030")),No(e,"UTF-8",s).toString()}(t,e.headers)})}},Object.defineProperties($o.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),$o.mixIn=function(e){for(const t of Object.getOwnPropertyNames($o.prototype))if(!(t in e)){const i=Object.getOwnPropertyDescriptor($o.prototype,t);Object.defineProperty(e,t,i)}},$o.Promise=global.Promise;const Uo=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,qo=/[^\t\x20-\x7e\x80-\xff]/;function zo(e){if(Uo.test(e=`${e}`)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function Ho(e){if(qo.test(e=`${e}`))throw new TypeError(`${e} is not a legal HTTP header value`)}function Vo(e,t){t=t.toLowerCase();for(const i in e)if(i.toLowerCase()===t)return i}const Yo=Symbol("map");class Xo{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[Yo]=Object.create(null),e instanceof Xo){const t=e.raw(),i=Object.keys(t);for(const e of i)for(const i of t[e])this.append(e,i)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const i=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");i.push(Array.from(t))}for(const e of i){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e))this.append(t,e[t])}}}get(e){zo(e=`${e}`);const t=Vo(this[Yo],e);return void 0===t?null:this[Yo][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=Wo(this),r=0;for(;r<i.length;){var n=i[r];e.call(t,n[1],n[0],this),i=Wo(this),r++}}set(e,t){t=`${t}`,zo(e=`${e}`),Ho(t);const i=Vo(this[Yo],e);this[Yo][void 0!==i?i:e]=[t]}append(e,t){t=`${t}`,zo(e=`${e}`),Ho(t);const i=Vo(this[Yo],e);void 0!==i?this[Yo][i].push(t):this[Yo][e]=[t]}has(e){return zo(e=`${e}`),void 0!==Vo(this[Yo],e)}delete(e){zo(e=`${e}`);const t=Vo(this[Yo],e);void 0!==t&&delete this[Yo][t]}raw(){return this[Yo]}keys(){return Jo(this,"key")}values(){return Jo(this,"value")}[Symbol.iterator](){return Jo(this,"key+value")}}function Wo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";const i=Object.keys(e[Yo]).sort();return i.map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[Yo][t].join(", ")}:function(t){return[t.toLowerCase(),e[Yo][t].join(", ")]})}Xo.prototype.entries=Xo.prototype[Symbol.iterator],Object.defineProperty(Xo.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Xo.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const Ko=Symbol("internal");function Jo(e,t){const i=Object.create(Zo);return i[Ko]={target:e,kind:t,index:0},i}const Zo=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==Zo)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[Ko];const t=e.index,i=Wo(e.target,e.kind);return t>=i.length?{value:void 0,done:!0}:(this[Ko].index=t+1,{value:i[t],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function Qo(e){const t=Object.assign({__proto__:null},e[Yo]),i=Vo(e[Yo],"Host");return void 0!==i&&(t[i]=t[i][0]),t}Object.defineProperty(Zo,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const ea=Symbol("Response internals"),ta=P.default.STATUS_CODES;class ia{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};$o.call(this,e,t);const i=t.status||200,r=new Xo(t.headers);if(null!=e&&!r.has("Content-Type")){const t=Fo(e);t&&r.append("Content-Type",t)}this[ea]={url:t.url,status:i,statusText:t.statusText||ta[i],headers:r,counter:t.counter}}get url(){return this[ea].url||""}get status(){return this[ea].status}get ok(){return this[ea].status>=200&&this[ea].status<300}get redirected(){return this[ea].counter>0}get statusText(){return this[ea].statusText}get headers(){return this[ea].headers}clone(){return new ia(Mo(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}$o.mixIn(ia.prototype),Object.defineProperties(ia.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty(ia.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const ra=Symbol("Request internals"),na=N.default.parse,sa=N.default.format,oa="destroy"in T.default.Readable.prototype;function aa(e){return"object"==typeof e&&"object"==typeof e[ra]}class la{constructor(e){let t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};aa(e)?t=na(e.url):(t=na(e&&e.href?e.href:`${e}`),e={});let r=i.method||e.method||"GET";if(r=r.toUpperCase(),(null!=i.body||aa(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let n=null!=i.body?i.body:aa(e)&&null!==e.body?Mo(e):null;$o.call(this,n,{timeout:i.timeout||e.timeout||0,size:i.size||e.size||0});const s=new Xo(i.headers||e.headers||{});if(null!=n&&!s.has("Content-Type")){const e=Fo(n);e&&s.append("Content-Type",e)}let o=aa(e)?e.signal:null;if("signal"in i&&(o=i.signal),null!=o&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(o))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[ra]={method:r,redirect:i.redirect||e.redirect||"follow",headers:s,parsedURL:t,signal:o},this.follow=void 0!==i.follow?i.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==i.compress?i.compress:void 0===e.compress||e.compress,this.counter=i.counter||e.counter||0,this.agent=i.agent||e.agent}get method(){return this[ra].method}get url(){return sa(this[ra].parsedURL)}get headers(){return this[ra].headers}get redirect(){return this[ra].redirect}get signal(){return this[ra].signal}clone(){return new la(this)}}function ca(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}$o.mixIn(la.prototype),Object.defineProperty(la.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(la.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),(ca.prototype=Object.create(Error.prototype)).constructor=ca,ca.prototype.name="AbortError";const ua=T.default.PassThrough,ha=N.default.resolve;function da(e,t){if(!da.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return $o.Promise=da.Promise,new da.Promise(function(i,r){const n=new la(e,t),s=function(e){const t=e[ra].parsedURL,i=new Xo(e[ra].headers);if(i.has("Accept")||i.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof T.default.Readable&&!oa)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let r=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(r="0"),null!=e.body){const t=Go(e);"number"==typeof t&&(r=String(t))}r&&i.set("Content-Length",r),i.has("User-Agent")||i.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!i.has("Accept-Encoding")&&i.set("Accept-Encoding","gzip,deflate");let n=e.agent;return"function"==typeof n&&(n=n(t)),i.has("Connection")||n||i.set("Connection","close"),Object.assign({},t,{method:e.method,headers:Qo(i),agent:n})}(n),o=("https:"===s.protocol?L.default:P.default).request,a=n.signal;let l=null;const c=function(){let e=new ca("The user aborted a request.");r(e),n.body&&n.body instanceof T.default.Readable&&n.body.destroy(e),l&&l.body&&l.body.emit("error",e)};if(a&&a.aborted)return void c();const u=function(){c(),p()},h=o(s);let d;function p(){h.abort(),a&&a.removeEventListener("abort",u),clearTimeout(d)}a&&a.addEventListener("abort",u),n.timeout&&h.once("socket",function(e){d=setTimeout(function(){r(new Po(`network timeout at: ${n.url}`,"request-timeout")),p()},n.timeout)}),h.on("error",function(e){r(new Po(`request to ${n.url} failed, reason: ${e.message}`,"system",e)),p()}),h.on("response",function(e){clearTimeout(d);const t=function(e){const t=new Xo;for(const i of Object.keys(e))if(!Uo.test(i))if(Array.isArray(e[i]))for(const r of e[i])qo.test(r)||(void 0===t[Yo][i]?t[Yo][i]=[r]:t[Yo][i].push(r));else qo.test(e[i])||(t[Yo][i]=[e[i]]);return t}(e.headers);if(da.isRedirect(e.statusCode)){const s=t.get("Location"),o=null===s?null:ha(n.url,s);switch(n.redirect){case"error":return r(new Po(`uri requested responds with a redirect, redirect mode is set to error: ${n.url}`,"no-redirect")),void p();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){r(e)}break;case"follow":if(null===o)break;if(n.counter>=n.follow)return r(new Po(`maximum redirect reached at: ${n.url}`,"max-redirect")),void p();const s={headers:new Xo(n.headers),follow:n.follow,counter:n.counter+1,agent:n.agent,compress:n.compress,method:n.method,body:n.body,signal:n.signal,timeout:n.timeout,size:n.size};return 303!==e.statusCode&&n.body&&null===Go(n)?(r(new Po("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void p()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==n.method)||(s.method="GET",s.body=void 0,s.headers.delete("content-length")),i(da(new la(o,s))),void p())}}e.once("end",function(){a&&a.removeEventListener("abort",u)});let s=e.pipe(new ua);const o={url:n.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:n.size,timeout:n.timeout,counter:n.counter},c=t.get("Content-Encoding");if(!n.compress||"HEAD"===n.method||null===c||204===e.statusCode||304===e.statusCode)return l=new ia(s,o),void i(l);if("gzip"==c||"x-gzip"==c)return s=s.pipe(j.default.createGunzip({flush:j.default.Z_SYNC_FLUSH,finishFlush:j.default.Z_SYNC_FLUSH})),l=new ia(s,o),void i(l);if("deflate"!=c&&"x-deflate"!=c){if("br"==c&&"function"==typeof j.default.createBrotliDecompress)return s=s.pipe(j.default.createBrotliDecompress()),l=new ia(s,o),void i(l);l=new ia(s,o),i(l)}else e.pipe(new ua).once("data",function(e){s=s.pipe(8==(15&e[0])?j.default.createInflate():j.default.createInflateRaw()),l=new ia(s,o),i(l)})}),function(e,t){const i=t.body;null===i?e.end():Bo(i)?i.stream().pipe(e):Buffer.isBuffer(i)?(e.write(i),e.end()):i.pipe(e)}(h,n)})}da.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},da.Promise=global.Promise;for(var pa=function(){return A.default.randomBytes(16)},fa=[],ma=0;ma<256;++ma)fa[ma]=(ma+256).toString(16).substr(1);var ya=function(e,t,i){var r=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var n=(e=e||{}).random||(e.rng||pa)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t)for(var s=0;s<16;++s)t[r+s]=n[s];return t||function(e,t){var i=0;return[fa[e[i++]],fa[e[i++]],fa[e[i++]],fa[e[i++]],"-",fa[e[i++]],fa[e[i++]],"-",fa[e[i++]],fa[e[i++]],"-",fa[e[i++]],fa[e[i++]],"-",fa[e[i++]],fa[e[i++]],fa[e[i++]],fa[e[i++]],fa[e[i++]],fa[e[i++]]].join("")}(n)};const ga=Ds(),wa=require("../package.json").version,ba=process.env.GATSBY_TELEMETRY_API||"https://analytics.gatsbyjs.com/events",va=()=>{let e=ga.get("telemetry.machineId");return"string"!=typeof e&&(e=ya(),ga.set("telemetry.machineId",e)),e},Ea=ya(),Sa=(e,t)=>{da(ba,{method:"POST",headers:{"content-type":"application/json","user-agent":`create-gatsby:${wa}`},body:JSON.stringify($({eventType:e,time:new Date,sessionId:Ea,machineId:va(),componentId:"create-gatsby",componentVersion:1,gatsbyCliVersion:wa},t))}).catch(()=>{})},Ia=e=>"win32"===process.platform?"":e,Oa=/[<>:"/\\|?*\u0000-\u001F]/g,xa=/^(con|prn|aux|nul|com\d|lpt\d)$/i,Ta=(e,t=!1)=>{const i=Object.entries(e).map(([e,t])=>({name:e,message:t.message}));return t?i:[{name:"none",message:"No (or I'll add it later)"},{name:"‚Äì",role:"separator",message:"‚Äì"},...i]},Ca=async e=>e?(e=e.trim(),Oa.test(e)?`The destination "${e}" is not a valid filename. Please try again, avoiding special characters.`:"win32"===process.platform&&xa.test(e)?`The destination "${e}" is not a valid Windows filename. Please try another name`:!I.default.existsSync(S.default.resolve(e))||`The destination "${e}" already exists. Please choose a different name`):"You have not provided a directory name for your site. Please do so when running with the 'y' flag.",Ra=(e,t)=>[{type:"textinput",name:"project",message:"What would you like to name the folder where your site will be created?",hint:S.default.basename(process.cwd()),separator:"/",initial:e,format:e=>G.cyan(e),validate:Ca,skip:t},{type:"selectinput",name:"cms",message:"Will you be using a CMS?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:Ta(nt)},{type:"selectinput",name:"styling",message:"Would you like to install a styling system?",hint:"(Single choice) Arrow keys to move, enter to confirm",choices:Ta(st)},{type:"multiselectinput",name:"features",message:"Would you like to install additional features with other plugins?",hint:'(Multiple choice) Use arrow keys to move, spacebar to select, and confirm with an enter on "Done"',choices:Ta(ot,!0)}],Aa=e=>e.split(":")[0];process.on("exit",e=>{Sa("CREATE_GATSBY_END",{exitCode:e}),-1===e&&Sa("CREATE_GATSBY_ERROR")}),exports.questions=Ra,exports.run=async function(){var e;const[t,i]=process.argv.slice(2);let n=!1;"-y"===t&&(n=!0),Sa("CREATE_GATSBY_START");const{version:s}=require("../package.json");Kn(G.grey(`create-gatsby version ${s}`)),Kn(`\n\n\n${function(e,t=" ",i=To){return t.repeat(Math.round((i-(e=>{if(""===e)return 0;const t=(e=>"string"==typeof e?e.replace((({onlyFirst:e=!1}={})=>{const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:[a-zA-Z\\d]*(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?void 0:"g")})(),""):e)(e);return""===t?0:t.match((()=>{const e="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]",t="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",r="(?:\\uD83C[\\uDDE6-\\uDDFF]){2}",n="[\\ud800-\\udbff][\\udc00-\\udfff]",s=`(?:${e}|${t})?`,o="[\\ufe0e\\ufe0f]?",a=o+s+`(?:\\u200d(?:${[i,r,n].join("|")})${o+s})*`,l=`(?:${[`${i}${e}?`,e,r,n,"[\\ud800-\\udfff]","[\\uD83D\\uDC69\\uD83C\\uDFFB\\u200D\\uD83C\\uDF93]"].join("|")})`;return new RegExp(`(?:\\ud83c\\udff4\\udb40\\udc67\\udb40\\udc62\\udb40(?:\\udc65|\\udc73|\\udc77)\\udb40(?:\\udc6e|\\udc63|\\udc6c)\\udb40(?:\\udc67|\\udc74|\\udc73)\\udb40\\udc7f)|${t}(?=${t})|${l+a}`,"g")})()).length})(e))/2))+e}(G.blueBright.bold.underline("Welcome to Gatsby!"))}\n\n\n`),n||Kn(((e,t=To)=>function(e,t){(t=t||{}).width=t.hasOwnProperty("width")?t.width:80,t.ignoreAnsi=!t.hasOwnProperty("ignoreAnsi")||t.ignoreAnsi,t.patterns=t.hasOwnProperty("patterns")?t.patterns:[],t.ignoreAnsi&&(t.patterns=[/\u001b.*?m/g].concat(t.patterns));let i=e.split("\n"),r=[];for(let e of i){let i=e.split(" "),n="";for(let e of i)xo(e,t)+xo(n,t)+1>t.width&&(r.push(n),n=""),n&&(n+=" "),n+=e;r.push(n)}return r.join("\n")}(e,{width:t}))(`This command will generate a new Gatsby site for you in ${G.bold(process.cwd())} with the setup you select. ${G.white.bold("Let's answer some questions:\n\n")}`,process.stdout.columns));const o=new rt;let a,l;if(o.use(Vs),n){const e=await Ca(i);if("string"==typeof e)return void console.warn(e);l=i,a=await o.prompt(Ra(Bs(i),n)[0])}else({name:l}=await o.prompt({type:"textinput",name:"name",message:"What would you like to call your site?",initial:"My Gatsby Site",format:e=>G.cyan(e)})),a=await o.prompt(Ra(Bs(l),n));var c;a.project=a.project.trim(),Sa("CREATE_GATSBY_SELECT_OPTION",{name:"project_name",valueString:(c=a.project,A.default.createHash("sha256").update(c).digest("hex"))}),Sa("CREATE_GATSBY_SELECT_OPTION",{name:"CMS",valueString:a.cms||"none"}),Sa("CREATE_GATSBY_SELECT_OPTION",{name:"CSS_TOOLS",valueString:a.styling||"none"}),Sa("CREATE_GATSBY_SELECT_OPTION",{name:"PLUGIN",valueStringArray:a.features||[]});const u=[`${Ia("üõ†  ")}Create a new Gatsby site in the folder ${G.magenta(a.project)}`],h=[],d=[];let p={};if(a.cms&&"none"!==a.cms){u.push(`${Ia("üìö ")}Install and configure the plugin for ${G.magenta(nt[a.cms].message)}`);const e=nt[a.cms].plugins||[];h.push(a.cms,...e),d.push(a.cms,...nt[a.cms].dependencies||[],...e),p=$({},p,nt[a.cms].options)}if(a.styling&&"none"!==a.styling){u.push(`${Ia("üé® ")}Get you set up to use ${G.magenta(st[a.styling].message)} for styling your site`);const e=st[a.styling].plugins||[];h.push(a.styling,...e),d.push(a.styling,...st[a.styling].dependencies||[],...e),p=$({},p,st[a.styling].options)}if(null!=(e=a.features)&&e.length){var f,m;u.push(`${Ia("üîå ")}Install ${null==(f=a.features)?void 0:f.map(e=>G.magenta(e)).join(", ")}`),h.push(...a.features);const e=null==(m=a.features)?void 0:m.map(e=>{const t=ot[e].plugins||[];return h.push(...t),[...ot[e].dependencies||[],...t]}),t=[].concat.apply([],e);d.push(...a.features,...t),p=a.features.reduce((e,t)=>$({},e,ot[t].options),p)}const y=(e=>{const t=[];return e.forEach(e=>{const i=bo[e];if(!i||"string"==typeof i||!("keys"in i))return;const r=null==i?void 0:i.keys;if(!r)return;const n=Object.entries(r).filter(Io).map(Oo);n.length>0&&t.push({type:"forminput",name:e,multiple:!0,message:oo`
          Configure the ${Eo(e)} plugin.
          See ${So(e)} for help.
          ${n.length>1?G.green("Use arrow keys to move between fields, and enter to finish"):""}
          `,choices:n})}),t})(h);if(y.length){Kn("\nGreat! A few of the selections you made need to be configured. Please fill in the options for each plugin now:\n"),Sa("CREATE_GATSBY_SET_PLUGINS_START");const e=new rt;e.use(Vs),p=$({},p,await e.prompt(y)),Sa("CREATE_GATSBY_SET_PLUGINS_STOP")}if(!n){Kn(`\n\n${G.bold("Thanks! Here's what we'll now do:")}\n\n    ${u.join("\n    ")}\n  `);const{confirm:e}=await(new rt).prompt({type:"confirm",name:"confirm",initial:"Yes",message:"Shall we do this?",format:e=>e?G.greenBright("Yes"):G.red("No")});if(!e)return Sa("CREATE_GATSBY_CANCEL"),void Kn("OK, bye!")}await async function(e,t,i,n){const s=S.default.resolve(t);await(async(e,t,i)=>{const r=function(e="",t=Qn,i=80){let r=0;es.write("[?25l");const n=setInterval(()=>{es.write(`${t[r]} ${e}`),r=(r+1)%t.length,es.cursorTo(0)},i);return function(){clearInterval(n),es.cursorTo(0),es.write("[?25h")}}("Cloning site template"),n=["clone","https://github.com/gatsbyjs/gatsby-starter-minimal.git",t,"--recursive","--depth=1","--quiet"].filter(e=>Boolean(e));try{await sr("git",n),Jn("Created site from template")}catch(e){Zn(e.message)}r(),await Wn.remove(S.default.join(t,".git")),await Wn.remove(S.default.join(t,"LICENSE"))})(0,s),await(async(e,t)=>{const i=S.default.join(e,"package.json"),r=await Wn.readJSON(i);r.name=Bs(t),r.description=t,delete r.license;try{const e=await sr("git",["config","user.name"]);e.failed?delete r.author:r.author=e.stdout}catch(e){delete r.author}await Wn.writeJSON(i,r,{spaces:2})})(s,n),await(async(e,t)=>{const i=process.cwd();Kn(`${G.blueBright(G.symbols.pointer)} Installing Gatsby...`),process.chdir(e);const n=process.env.npm_config_user_agent;try{const e=Ms(n),s={stderr:"inherit"},o=["--loglevel","error","--color","always"];if("yarn"===e&&(()=>{try{return r.execSync("yarnpkg --version",{stdio:"ignore"}),!0}catch(e){return Kn('Woops! You have chosen "yarn" as your package manager, but it doesn\'t seem be installed on your machine. You can install it from https://yarnpkg.com/getting-started/install or change your preferred package manager with the command "gatsby options set pm npm". As a fallback, we will run the next steps with npm.'),!1}})()){const e=t.length?["add","--silent",...t]:["--silent"];await Wn.remove("package-lock.json"),await sr("yarnpkg",e,s)}else await Wn.remove("yarn.lock"),await sr("npm",["install",...o],s),await _s(),Jn("Installed Gatsby"),Kn(`${G.blueBright(G.symbols.pointer)} Installing plugins...`),await sr("npm",["install",...o,"--legacy-peer-deps",...t],s),await _s();Jn("Installed plugins")}catch(e){Zn(e.message)}finally{process.chdir(i)}})(t,i)}(0,a.project,d.map(Aa),l),Jn(`Created site in ${G.green(a.project)}`);const g=S.default.resolve(a.project);h.length&&(Kn(`${Ia("üîå ")}Setting-up plugins...`),await async function(e,t={},i,r){try{const n=((e,t)=>{try{let i;try{i=Fs("gatsby-cli/lib/handlers/plugin-add",{paths:[e,S.default.dirname(t)]})}catch(e){}try{i||(console.log("looking in old place"),i=Fs("gatsby-cli/lib/plugin-add",{paths:[e,S.default.dirname(t)]}))}catch(e){}if(!i)throw new Error;return i}catch(e){throw new Error("Could not find a suitable version of gatsby-cli. Please report this issue at https://www.github.com/gatsbyjs/gatsby/issues")}})(i,(e=>{try{const t=Fs("gatsby/package.json",{paths:[e]});if(!t)throw new Error;return t}catch(t){throw new Error(`Could not find "gatsby" in ${e}. Perhaps it wasn't installed properly?`)}})(i));await(async(e,t,i={},r,n)=>{try{const{addPlugins:s}=require(e);await s(t,i,r,n)}catch(e){throw new Error(`Something went wrong when trying to add the plugins to the project: ${e.message}`)}})(n,e,t,i,r)}catch(e){return n=e.message,void console.error(G.red(G.symbols.cross+" ")+n)}var n}(h,p,g,[])),await async function(e,t,i){try{const t=require.resolve("gatsby-recipes",{paths:[e]}),{GatsbySiteMetadata:r}=require(t);await(null==r?void 0:r.create({root:e},{name:"title",value:i}))}catch(e){}}(g,0,l),await async function(e){await(async e=>await sr("git",["init"],{cwd:e}))(e),await(async e=>{Wn.existsSync(S.default.join(e,".gitignore"))||await Wn.writeFile(S.default.join(e,".gitignore"),".cache\nnode_modules\npublic\n")})(e),await(async e=>{await sr("git",["add","-A"],{cwd:e});try{r.execSync('git commit -m "Initial commit from gatsby"',{cwd:e})}catch(t){Kn("Initial git commit failed - removing git support\n"),Wn.removeSync(S.default.join(e,".git"))}})(e)}(a.project);const w="npm"===await Ms()?"npm run":"yarn";Kn(oo`
    ${Ia("üéâ  ")}Your new Gatsby site ${G.bold(l)} has been successfully created
    at ${G.bold(g)}.
    `),Kn(`Start by going to the directory with\n\n  ${G.magenta(`cd ${a.project}`)}\n  `),Kn(`Start the local development server with\n\n  ${G.magenta(`${w} develop`)}\n  `),Kn(`See all commands at\n\n  ${G.blueBright("https://www.gatsbyjs.com/docs/gatsby-cli/")}\n  `);const b=(e=>A.default.createHash("md5").update(e).digest("hex"))(g);Sa("CREATE_GATSBY_SUCCESS",{siteHash:b})},exports.validateProjectName=Ca;
